{"version":3,"sources":["utils.js","state.js","index.js","App.js","jsu.js","serviceWorker.js"],"names":["x","shouldRound","s","toString","replace","decimal","length","slice","Cases","Recovered","Deaths","countries","sort","top10","a","b","labels","map","i","country","data","chartData","datasets","label","backgroundColor","borderColor","borderWidth","Box","memo","children","style","View","margin","padding","width","L","t","Text","color","V","createState","lastUpdated","search","filteredCountries","ReactDOM","render","document","getElementById","serviceWorker","unregister","Country","React","lazy","Home","covid19","require","countryNamesExceptions","US","Iran","Russia","Czechia","Egypt","Slovakia","Kyrgyzstan","Venezuela","Brunei","Gambia","parseData","d","time","j","newCountry","active","confirmed","recovered","deaths","countryPopulations","records","filter","countryName","fields","country_name","toLowerCase","countryPopulation","year","value","population","perc","toFixed","precentage","timeCountries","aTotal","bTotal","locations","forEach","l","total","generateBarData","lineChartData","countryTimeData","index","sets","dates","Object","keys","location","y","Date","day","getDate","month","getMonth","format","push","colors","fill","getLineChartData","newState","date","allCases","numberWithCommas","allDeaths","allRecovered","state","setState","Promise","all","getData","getTimeSeriesData","fetch","then","json","console","log","App","basename","ScrollView","contentContainerStyle","styles","container","accessibilityRole","target","href","title","textAlign","Suspense","fallback","ActivityIndicator","size","marginTop","alignSelf","Switch","Route","path","Redirect","to","PureComponent","StyleSheet","create","alignItems","minHeight","fontWeight","fontSize","moment","request","csv","Covid19","undefined","this","fetchData","type","addRemoteTimesSeries","addRemoteDailyReports","subtract","error","fromStream","get","subscribe","resolve","reject","obj","lat","lon","lastUpdate","parseInt","groupBy","key","array","totalConfirmed","totalRecovered","totalDeaths","allConfirmed","result","added","entry","min","max","m","diff","add","dateObj","lastDate","values","groupByTimesSeries","grandTotal","root","module","exports","config","navigator","URL","process","window","origin","addEventListener","swUrl","isLocalhost","headers","response","contentType","status","indexOf","ready","registration","reload","registerValidSW","catch","checkValidServiceWorker","message","Boolean","hostname","match","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess"],"mappings":"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","file":"static/js/main.ab39f020.chunk.js","sourcesContent":["import React, {memo} from 'react';\nimport {Text, View} from 'react-native';\n\nexport const chartList = {\n  Cases: 'confirmed',\n  'Active cases': 'active',\n  Recovered: 'recovered',\n  Deaths: 'deaths',\n  'Population infected': 'precentage',\n};\n\nexport const generateBarData = (countries, sort = 'confirmed') => {\n  const top10 = countries.sort((a, b) => b[sort] - a[sort]).slice(0, 9);\n\n  const labels = top10.map((i) => i.country);\n  const data = top10.map((i) => i[sort]);\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Cases per country',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data,\n      },\n    ],\n  };\n\n  return chartData;\n};\n\nexport const format = (i) => (i < 10 ? `0${i}` : i);\nexport const colors = [\n  '#ff0029',\n  '#377eb8',\n  '#7f80cd',\n  '#66a61e',\n  '#984ea3',\n  '#00d2d5',\n  '#ff7f00',\n  '#af8d00',\n  '#b3e900',\n  '#fec254',\n  '#ccebc5',\n  '#a63603',\n  '#016c59',\n  '#e7298a',\n  '#c994c7',\n  '#dfdf00',\n  '#df00df',\n  '#80ff80',\n];\n\nexport const Box = memo(({children, style}) => (\n  <View\n    style={[\n      {\n        margin: 10,\n        padding: 10,\n        width: '80%',\n      },\n      style,\n    ]}>\n    {children}\n  </View>\n));\n\nexport const L = memo(({t}) => (\n  <Text\n    style={{\n      color: '#ddd',\n    }}>\n    {t}\n  </Text>\n));\nexport const V = memo(({t}) => (\n  <Text\n    style={{\n      color: '#fff',\n    }}>\n    {t}\n  </Text>\n));\n\nexport function numberWithCommas(x, shouldRound) {\n  const s = x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  if (shouldRound && x > 999) {\n    let decimal = '';\n    if (x < 2000 && s.length > 4 && s.slice(-3) !== '000') {\n      decimal = `.${s.slice(-3)[0]}`;\n    }\n\n    return `${s.slice(0, s.length - 4)}${decimal}K`;\n  }\n  return s;\n}\n","import {createState} from 'jstates-react';\n\nconst state = createState({\n  lastUpdated: null,\n  search: '',\n  filteredCountries: '',\n});\n\nexport default state;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, {PureComponent, Suspense} from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  ScrollView,\n  ActivityIndicator,\n} from 'react-native';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport {generateBarData, numberWithCommas, colors, format} from './utils';\nimport state from './state';\nconst Country = React.lazy(() => import('./Country'));\nconst Home = React.lazy(() => import('./Home'));\n\nconst Covid19 = require('./jsu');\nconst covid19 = new Covid19();\n\nconst getLineChartData = (timeCountries) => {\n  const lineChartData = {\n    labels: [],\n    datasets: [],\n  };\n\n  timeCountries.forEach((countryTimeData, index) => {\n    const sets = countryTimeData.locations[0].dates.map((i, index) => {\n      let total = 0;\n      const time = Object.keys(i)[0];\n      countryTimeData.locations.forEach((location) => {\n        total += location.dates[index][time];\n      });\n      return {y: time, x: total};\n    });\n    if (lineChartData.labels.length < 1) {\n      lineChartData.labels = sets.map((i) => {\n        const d = new Date(i.y.replace(/-/g, '/'));\n        const day = d.getDate();\n        const month = d.getMonth() + 1;\n\n        return `${format(day)}.${format(month)}`;\n      });\n    }\n    lineChartData.datasets.push({\n      label: countryTimeData.country.slice(0),\n      borderColor: colors[index].slice(0),\n      fill: false,\n      borderWidth: 1,\n      data: sets.map((i) => i.x),\n    });\n  });\n\n  return lineChartData;\n};\n\nconst countryNamesExceptions = {\n  US: 'United States',\n  Iran: 'Iran, Islamic Rep.',\n  Russia: 'Russian Federation',\n  'Korea, South': 'Korea, Rep.',\n  Czechia: 'Czech Republic',\n  Egypt: 'Egypt, Arab Rep.',\n  Slovakia: 'Slovak Republic',\n  Kyrgyzstan: 'Kyrgyz Republic',\n  Venezuela: 'Venezuela, RB',\n  Brunei: 'Brunei Darussalam',\n  Gambia: 'Gambia, The',\n};\nconst parseData = (d, time, j) => {\n  const countries = d.countries.map((country) => {\n    const newCountry = {\n      ...country,\n      active: country.confirmed - (country.recovered + country.deaths),\n    };\n\n    const countryPopulations = j.records.filter((i) => {\n      const countryName = i.fields.country_name;\n      return (\n        countryName.toLowerCase() === country.country.toLowerCase() ||\n        countryName === countryNamesExceptions[country.country]\n      );\n    });\n\n    if (!countryPopulations.length) {\n      return newCountry;\n    }\n\n    const countryPopulation = countryPopulations.sort(\n      (a, b) => b.fields.year - a.fields.year,\n    )[0];\n\n    if (!countryPopulation || !countryPopulation.fields.value) {\n      return newCountry;\n    }\n\n    newCountry.population = countryPopulation.fields.value;\n    const perc = (\n      (country.confirmed / countryPopulation.fields.value) *\n      100\n    ).toFixed(2);\n\n    if (perc + '' !== '0.00') {\n      newCountry.precentage = perc;\n    }\n\n    return newCountry;\n  });\n\n  const timeCountries = time.countries\n    .sort((a, b) => {\n      let aTotal = 0;\n      let bTotal = 0;\n      a.locations.forEach((l) => {\n        aTotal += l.total;\n      });\n      b.locations.forEach((l) => {\n        bTotal += l.total;\n      });\n\n      return bTotal - aTotal;\n    })\n    .slice(0, 10);\n  const chartData = generateBarData(countries.slice(0));\n  const lineChartData = getLineChartData(timeCountries);\n\n  const newState = {\n    lastUpdated: new Date(d.date.replace(/-/g, '/')),\n    allCases: numberWithCommas(d.confirmed),\n    allDeaths: numberWithCommas(d.deaths),\n    allRecovered: numberWithCommas(d.recovered),\n    countries,\n    filteredCountries: countries.slice(0),\n    chartData,\n    time,\n    lineChartData,\n  };\n  state.setState(newState);\n  // saveToLocalStorage({d, time, j});\n};\n\nPromise.all([\n  covid19.getData(),\n  covid19.getTimeSeriesData('confirmed'),\n  fetch(\n    'https://data.opendatasoft.com/api/records/1.0/search/?dataset=world-population%40kapsarc&rows=10000&sort=year&facet=year&facet=country_name',\n  ).then((j) => j.json()),\n]).then(([d, time, j]) => {\n  console.log('--¯_(ツ)_/¯-----------d----------', d);\n  console.log('--¯_(ツ)_/¯-----------time----------', time);\n  console.log('--¯_(ツ)_/¯-----------j----------', j);\n  parseData(d, time, j);\n});\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Router basename=\"/corona\">\n        <ScrollView contentContainerStyle={styles.container}>\n          <View style={styles.container}>\n            <Text\n              accessibilityRole=\"link\"\n              target=\"_blank\"\n              href=\"https://github.com/CSSEGISandData/COVID-19\"\n              style={[\n                styles.title,\n                {\n                  color: '#aaa',\n                  padding: 10,\n                  width: '100%',\n                  textAlign: 'center',\n                },\n              ]}>\n              COVID-19 data provided by Johns Hopkins CSSE\n            </Text>\n            <Suspense\n              fallback={\n                <ActivityIndicator\n                  size=\"large\"\n                  style={{\n                    marginTop: 40,\n                    alignSelf: 'center',\n                  }}\n                />\n              }>\n              <Switch>\n                <Route path=\"/country/:country\">\n                  <Country />\n                </Route>\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </Suspense>\n          </View>\n        </ScrollView>\n      </Router>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#222222',\n    alignItems: 'center',\n    minHeight: '100%',\n    width: '100%',\n  },\n  title: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n});\n\nexport default App;\n","const moment = require('moment');\nconst request = require('request');\nconst csv = require('csvtojson');\n\nexport const d = {};\n\nclass Covid19 {\n  async getData(date) {\n    let data = {};\n    if (date != undefined) {\n      date = moment(date, 'MM-DD-YYYY').format('MM-DD-YYYY');\n      data = await this.fetchData(date);\n    } else {\n      date = moment().format('MM-DD-YYYY');\n      data = await this.fetchData(date);\n    }\n    return data;\n  }\n\n  async getTimeSeriesData(type) {\n    var data = {};\n    let date = moment().format('MM-DD-YYYY');\n    type = type.toLowerCase();\n    data = d[type];\n    if (data === undefined || (data && data.lastUpdated !== date)) {\n      await this.addRemoteTimesSeries(type);\n      data = d[type];\n    }\n    return data;\n  }\n\n  async fetchData(date) {\n    var data = {};\n    //console.log(`Fetching data from: ${date}`)\n    data = d[date];\n    while (\n      data === undefined &&\n      moment(date, 'MM-DD-YYYY') >= moment('01-22-2020', 'MM-DD-YYYY')\n    ) {\n      //console.log(`LOCAL data from ${date} not found...attempting to fetch REMOTE data from ${date}`)\n      await this.addRemoteDailyReports(date);\n      data = d[date];\n      if (data == undefined) {\n        //console.log(`REMOTE data from ${date} not found...attempting to fetch LOCAL data from one day before.`)\n        date = moment(date, 'MM-DD-YYYY')\n          .subtract(1, 'days')\n          .format('MM-DD-YYYY');\n        data = d[date];\n        if (data === undefined) {\n          //console.log(`LOCAL data from ${date} not found...attempting to fetch REMOTE data from one day before.`)\n          await this.addRemoteDailyReports(date);\n          data = d[date];\n        }\n      }\n    }\n    if (data === undefined) {\n      data = {error: 'Data not found. Plase try again.'};\n    }\n    return data;\n  }\n\n  async addRemoteDailyReports(date) {\n    let locations = [];\n    await csv()\n      .fromStream(\n        request.get(\n          `https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/${date}.csv`,\n        ),\n      )\n      .subscribe(async (json) => {\n        return new Promise((resolve, reject) => {\n          var obj = {};\n          if (\n            moment(date, 'MM-DD-YYYY') <= moment('03-22-2020', 'MM-DD-YYYY')\n          ) {\n            obj = {\n              country: json['Country/Region'] || '',\n              state: json['Province/State'] || '',\n              lat: json['Latitude'] || '0.0',\n              lon: json['Longitude'] || '0.0',\n              lastUpdate: json['Last Update'] || '',\n              confirmed: parseInt(json['Confirmed']) || 0,\n              deaths: parseInt(json['Deaths']) || 0,\n              recovered: parseInt(json['Recovered']) || 0,\n            };\n          } else {\n            // console.log('after 03-22-2020');\n            obj = {\n              country: json['Country_Region'] || '',\n              state: json['Province_State'] || '',\n              lat: json['Lat'] || '0.0',\n              lon: json['Long_'] || '0.0',\n              lastUpdate: json['Last_Update'] || '',\n              confirmed: parseInt(json['Confirmed']) || 0,\n              deaths: parseInt(json['Deaths']) || 0,\n              recovered: parseInt(json['Recovered']) || 0,\n            };\n          }\n          locations.push(obj);\n          resolve();\n        });\n      })\n      .then(async (json) => {\n        if (locations.length > 0) {\n          let countries = await this.groupBy('country', locations, date);\n          delete d[date];\n          d[date] = countries;\n        }\n      });\n  }\n\n  async groupBy(key, array, date) {\n    var json = {};\n    var result = [];\n    var totalConfirmed = 0;\n    var totalRecovered = 0;\n    var totalDeaths = 0;\n\n    var allConfirmed = 0;\n    var allRecovered = 0;\n    var allDeaths = 0;\n\n    json.countries = result;\n\n    for (var i = 0; i < array.length; i++) {\n      var added = false;\n      totalConfirmed = 0;\n      totalRecovered = 0;\n      totalDeaths = 0;\n\n      allConfirmed += parseInt(array[i].confirmed);\n      allRecovered += parseInt(array[i].recovered);\n      allDeaths += parseInt(array[i].deaths);\n\n      // adds the reset of the locations for the country\n      for (var j = 0; j < result.length; j++) {\n        if (result[j][key] == array[i][key]) {\n          totalConfirmed += parseInt(array[i].confirmed);\n          result[j].confirmed = totalConfirmed + parseInt(result[j].confirmed);\n\n          totalRecovered += parseInt(array[i].recovered);\n          result[j].recovered = totalRecovered + parseInt(result[j].recovered);\n\n          totalDeaths += parseInt(array[i].deaths);\n          result[j].deaths = totalDeaths + parseInt(result[j].deaths);\n\n          result[j].locations.push(array[i]);\n          added = true;\n          break;\n        }\n      }\n      // adds the first location for the country\n      if (!added) {\n        totalConfirmed = 0;\n        totalRecovered = 0;\n        totalDeaths = 0;\n        var entry = {locations: []};\n\n        totalConfirmed += parseInt(array[i].confirmed);\n        entry['confirmed'] = totalConfirmed;\n\n        totalRecovered += parseInt(array[i].recovered);\n        entry['recovered'] = totalRecovered;\n\n        totalDeaths += parseInt(array[i].deaths);\n        entry['deaths'] = totalDeaths;\n\n        entry[key] = array[i][key];\n        entry['lat'] = array[i]['lat'];\n        entry['lon'] = array[i]['lon'];\n\n        entry.locations.push(array[i]);\n        result.push(entry);\n      }\n    }\n\n    json.date = date;\n    json.confirmed = allConfirmed;\n    json.recovered = allRecovered;\n    json.deaths = allDeaths;\n\n    return json;\n  }\n\n  async addRemoteTimesSeries(type) {\n    var countries = [];\n    let min = moment('2020-03-11');\n    let max = moment();\n    //let initCapType = type.charAt(0).toUpperCase() + type.slice(1)\n    await csv()\n      .fromStream(\n        request.get(\n          `https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_${type}_global.csv`,\n        ),\n      )\n      .subscribe(async (json) => {\n        return new Promise((resolve, reject) => {\n          var location = {\n            country: json['Country/Region'] || '',\n            state: json['Province/State'] || '',\n            lat: json['Lat'] || '0.0',\n            lon: json['Long'] || '0.0',\n          };\n          let dates = [];\n          for (\n            var m = moment(min);\n            m.diff(max, 'days') <= 0;\n            m.add(1, 'days')\n          ) {\n            let date = m.format('M/D/YY');\n            if (json[date] != undefined) {\n              let value = parseInt(json[date]) || 0;\n              let dateObj = {\n                [m.format('MM-DD-YYYY')]: value,\n              };\n              dates.push(dateObj);\n            }\n          }\n\n          if (dates.length > 0) {\n            let lastDate = dates[dates.length - 1];\n            location.total = Object.values(lastDate)[0];\n          }\n\n          location.dates = dates;\n          countries.push(location);\n          resolve();\n        });\n      })\n      .then(async (json) => {\n        if (countries.length > 0) {\n          countries = await this.groupByTimesSeries('country', countries);\n\n          delete d[type];\n          d[type] = countries;\n        }\n      });\n  }\n\n  async groupByTimesSeries(key, array) {\n    let root = {};\n    var locations = [];\n    var grandTotal = 0;\n\n    root.countries = locations;\n\n    for (var i = 0; i < array.length; i++) {\n      var total = 0;\n      var added = false;\n      // adds the reset of the locations for the country\n      for (var j = 0; j < locations.length; j++) {\n        if (locations[j][key] == array[i][key]) {\n          total += parseInt(array[i].total) || 0;\n          locations[j].locations.push(array[i]);\n          added = true;\n          break;\n        }\n      }\n      // adds the first location for the country\n      if (!added) {\n        var entry = {locations: []};\n        entry[key] = array[i][key];\n        entry['lat'] = array[i]['lat'];\n        entry['lon'] = array[i]['lon'];\n        total += parseInt(array[i]['total']) || 0;\n        entry.locations.push(array[i]);\n        locations.push(entry);\n      }\n\n      locations[j].total = total;\n      grandTotal += total;\n    }\n\n    root.lastUpdated = moment().format('MM-DD-YYYY');\n    root.total = grandTotal;\n    return root;\n  }\n}\n\nmodule.exports = Covid19;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n"],"sourceRoot":""}