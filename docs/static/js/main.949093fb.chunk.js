(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{104:function(e,t,a){var r=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithCommas=f,t.default=t.PieChart=t.BarChart=t.LineChart=t.V=t.L=t.Box=t.colors=t.format=void 0;var n=r(a(103)),o=r(a(0)),l=a(96),c=a(305);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.format=function(e){return e<10?"0".concat(e):e};var s=["#ff0029","#377eb8","#7f80cd","#66a61e","#984ea3","#00d2d5","#ff7f00","#af8d00","#b3e900","#fec254","#ccebc5","#a63603","#016c59","#e7298a","#c994c7","#dfdf00","#df00df","#80ff80"];t.colors=s;var d={type:"logarithmic",ticks:{min:.1,max:1e3,callback:function(e,t,a){return Number(e.toString())}},afterBuildTicks:function(e){e.ticks=[],e.ticks.push(.1),e.ticks.push(1),e.ticks.push(10),e.ticks.push(100),e.ticks.push(1e3)}};t.Box=function(e){var t=e.children,a=e.style;return o.default.createElement(l.View,{style:[{margin:10,padding:10,width:"80%"},a]},t)};t.L=function(e){var t=e.t;return o.default.createElement(l.Text,{style:{color:"#ddd"}},t)};function f(e,t){var a=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(t&&e>999){var r="";return e<2e3&&a.length>4&&"000"!==a.slice(-3)&&(r=".".concat(a.slice(-3)[0])),"".concat(a.slice(0,a.length-4)).concat(r,"K")}return a}t.V=function(e){var t=e.t;return o.default.createElement(l.Text,{style:{color:"#fff"}},t)};t.LineChart=function(e){var t=e.data,a=e.legend,r=e.title,n=e.logarithmic,i={title:{display:n||!!r,text:n?"Logarithmic chart":t.datasets[0].label,fontSize:20},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return f(e,!0)}}}]},legend:{display:!!a,position:"bottom",labels:{fontColor:"white",boxWidth:20,padding:20}}};return o.default.createElement(l.View,{style:{marginTop:20,height:450,width:"100%",position:"relative"}},o.default.createElement(c.Line,{data:t,options:n?u({},d,{},i):i}))};var m=function(e){var t=e.data,a=e.colors;return t.datasets[0].backgroundColor=a||s,t.datasets[0].hoverBackgroundColor=a||s,o.default.createElement(l.View,{style:{marginTop:20,height:"40vh",width:"100%",position:"relative"}},o.default.createElement(c.Bar,{data:t,options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return f(e,!0)}}}]},title:{display:!1,fontSize:20},legend:{display:!1,position:"right"}}}))};t.BarChart=m;t.PieChart=function(e){var t=e.data;return t.datasets[0].backgroundColor=s,t.datasets[0].hoverBackgroundColor=s,o.default.createElement(l.View,{style:{width:"100%"}},o.default.createElement(c.Pie,{data:t,options:{title:{display:!1,text:t.datasets[0].label,fontSize:16},legend:{display:!1}}}))};var p=function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement(m,e))};t.default=p},113:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new(a(158).State)("state",{lastUpdated:null,search:""});t.default=r},267:function(e,t,a){e.exports=a(268)},268:function(e,t,a){var r=a(79),n=a(44),o=n(a(0)),l=n(a(29));a(273);var c=n(a(274)),i=r(a(607));l.default.render(o.default.createElement(c.default,null),document.getElementById("root")),i.register()},273:function(e,t,a){},274:function(e,t,a){var r=a(79),n=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(151)),l=n(a(103)),c=n(a(152)),i=n(a(153)),u=n(a(154)),s=n(a(155)),d=n(a(279)),f=n(a(281)),m=n(a(282)),p=r(a(0)),h=a(96),v=a(144),y=a(158),g=n(a(304)),b=n(a(396)),E=a(104),x=n(a(113));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=new(a(397)),D=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(0,f.default)(t).apply(this,arguments))}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=(0,i.default)(o.default.mark((function e(){var t,a,r,n,l,i,u,s,d,f,m,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([C.getData(),C.getTimeSeriesData("confirmed"),fetch("https://data.opendatasoft.com/api/records/1.0/search/?dataset=world-population%40kapsarc&rows=10000&sort=year&facet=year&facet=country_name").then((function(e){return e.json()}))]);case 2:t=e.sent,a=(0,c.default)(t,3),r=a[0],n=a[1],l=a[2],console.log("--\xaf_(\u30c4)_/\xaf-----------d----------",r),console.log("--\xaf_(\u30c4)_/\xaf-----------time----------",n),console.log("--\xaf_(\u30c4)_/\xaf-----------j----------",l),i={US:"United States",Iran:"Iran, Islamic Rep.",Russia:"Russian Federation","Korea, South":"Korea, Rep.",Czechia:"Czech Republic",Egypt:"Egypt, Arab Rep.",Slovakia:"Slovak Republic",Kyrgyzstan:"Kyrgyz Republic",Venezuela:"Venezuela, RB",Brunei:"Brunei Darussalam",Gambia:"Gambia, The"},u=r.countries.map((function(e){var t=l.records.filter((function(t){var a=t.fields.country_name;return a.toLowerCase()===e.country.toLowerCase()||a===i[e.country]}));if(!t.length)return e;var a=t.sort((function(e,t){return t.fields.year-e.fields.year}))[0];if(!a||!a.fields.value)return e;var r=k({},e,{population:a.fields.value}),n=(e.confirmed/a.fields.value*100).toFixed(2);return n+""!=="0.00"&&(r.precentage=n),r})),s=u.sort((function(e,t){return t.confirmed-e.confirmed})).slice(0,6),d=s.map((function(e){return e.country})),f=s.map((function(e){return e.confirmed})),m={labels:d,datasets:[{label:"Cases per country",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:f}]},p={labels:[],datasets:[]},n.countries.sort((function(e,t){var a=0,r=0;return e.locations.forEach((function(e){a+=e.total})),t.locations.forEach((function(e){r+=e.total})),r-a})).slice(0,10).forEach((function(e,t){var a=e.locations[0].dates.map((function(t,a){var r=0,n=Object.keys(t)[0];return e.locations.forEach((function(e){r+=e.dates[a][n]})),{y:n,x:r}}));p.labels.length<1&&(p.labels=a.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat((0,E.format)(a),".").concat((0,E.format)(r))}))),p.datasets.push({label:e.country,borderColor:E.colors[t],fill:!1,borderWidth:1,data:a.map((function(e){return e.x}))})})),x.default.setState({lastUpdated:new Date(r.date.replace(/-/g,"/")),allCases:(0,E.numberWithCommas)(r.confirmed),allDeaths:(0,E.numberWithCommas)(r.deaths),allRecovered:(0,E.numberWithCommas)(r.recovered),countries:u,filteredCountries:u,chartData:m,time:n,lineChartData:p});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=x.default.state.lastUpdated;return p.default.createElement(v.BrowserRouter,{basename:"/corona"},p.default.createElement(h.ScrollView,{contentContainerStyle:S.container},p.default.createElement(h.View,{style:S.container},p.default.createElement(h.Text,{accessibilityRole:"link",target:"_blank",href:"https://github.com/CSSEGISandData/COVID-19",style:[S.title,{color:"#aaa",padding:10,width:"100%"}]},"COVID-19 data provided by Johns Hopkins CSSE"),e?p.default.createElement(p.default.Fragment,null,p.default.createElement(v.Link,{to:"/"},p.default.createElement(h.Text,{style:[S.title,{color:"#fff",padding:10,width:"100%",backgroundColor:"#00429d",lineHeight:35}]},"Go Back Home")),p.default.createElement(v.Switch,null,p.default.createElement(v.Route,{path:"/country/:country"},p.default.createElement(g.default,null)),p.default.createElement(v.Route,{path:"/"},p.default.createElement(b.default,null)),p.default.createElement(v.Redirect,{to:"/"}))):p.default.createElement(h.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))))}}]),t}(p.Component),S=h.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16}}),T=(0,y.subscribe)(D,[x.default]);t.default=T},304:function(e,t,a){var r=a(79),n=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(152)),l=r(a(0)),c=a(96),i=a(144),u=a(104),s=n(a(113)),d=c.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}}),f=function(){var e=(0,i.useParams)().country,t=(0,l.useState)(null),a=(0,o.default)(t,2),r=a[0],n=a[1],f=(0,l.useState)(null),m=(0,o.default)(f,2),p=m[0],h=m[1],v=(0,l.useState)(null),y=(0,o.default)(v,2),g=y[0],b=y[1],E=(0,l.useState)(null),x=(0,o.default)(E,2),w=x[0],k=x[1];return(0,l.useEffect)((function(){var t=s.default.state,a=t.countries,r=t.time.countries.find((function(t){return t.country===e})),o=a.find((function(t){return t.country===e}));if(o){k(o);var l=o.confirmed,c=o.recovered,i=o.deaths;n({labels:["Total","Recovered","Deaths"],datasets:[{label:e,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[l,c,i]}]})}else k(0);if(r){var d=r.locations[0].dates.map((function(e,t){var a=0,n=Object.keys(e)[0];return r.locations.forEach((function(e){a+=e.dates[t][n]})),{y:n,x:a}})),f=d.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat((0,u.format)(a),".").concat((0,u.format)(r))})),m={labels:f,datasets:[{label:"Confirmed Cases",backgroundColor:"rgba(75,192,192,1)",borderWidth:2,data:d.map((function(e){return e.x}))}]};b(m);var p=d.map((function(e,t){return parseInt(e.x)-parseInt(d[t-1]&&d[t-1].x||0)})),v={labels:f.slice(1),datasets:[{label:"Daily Cases",backgroundColor:"#d45757",borderWidth:2,data:p.slice(1)}]};h(v)}else b(0)}),[e]),null===w?l.default.createElement(c.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}):l.default.createElement(c.View,{style:d.container},0===w?l.default.createElement(c.Text,{style:[d.title,d.text]},"No country by the name ",e," was found"):l.default.createElement(l.default.Fragment,null,l.default.createElement(u.Box,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},l.default.createElement(c.Text,{style:[d.title,d.text]},e),l.default.createElement(c.Text,{key:"Total cases: ".concat(w.confirmed),style:d.text},l.default.createElement(u.L,{t:"Total cases: "}),l.default.createElement(u.V,{t:(0,u.numberWithCommas)(w.confirmed)})),l.default.createElement(c.Text,{key:"Total deaths: ".concat(w.deaths),style:d.text},l.default.createElement(u.L,{t:"Total deaths: "}),l.default.createElement(u.V,{t:(0,u.numberWithCommas)(w.deaths)})),l.default.createElement(c.Text,{key:"Total recovered: ".concat(w.recovered),style:d.text},l.default.createElement(u.L,{t:"Total recovered: "}),l.default.createElement(u.V,{t:(0,u.numberWithCommas)(w.recovered)})),!!w.population&&l.default.createElement(c.Text,{key:"population: ".concat(w.population),style:d.text},l.default.createElement(u.L,{t:"Population: "}),l.default.createElement(u.V,{t:(0,u.numberWithCommas)(w.population)})),!!w.precentage&&l.default.createElement(c.Text,{key:"population: ".concat(w.precentage),style:d.text},l.default.createElement(u.L,{t:"Population infected: "}),l.default.createElement(u.V,{t:w.precentage+"%"})),l.default.createElement(c.Text,{key:"updated on: ".concat(s.default.state.lastUpdated.toDateString()),style:d.text},l.default.createElement(u.L,{t:"Updated on: "}),l.default.createElement(u.V,{t:s.default.state.lastUpdated.toDateString()}))),!!g&&l.default.createElement(c.View,{style:{width:"80%",marginBottom:20}},l.default.createElement(u.LineChart,{data:g,title:!0}),p&&l.default.createElement(u.LineChart,{data:p,title:!0}),l.default.createElement(u.BarChart,{data:r,colors:["#ff2222","#00ff00","#ccc"]}))))};t.default=f},396:function(e,t,a){var r=a(79),n=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),l=a(96),c=a(144),i=r(a(104)),u=n(a(113)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(u.default.setState({search:e}),e.length){var t=u.default.state.countries.filter((function(t){return t.country.toLowerCase().includes(e.toLowerCase())}));u.default.setState({filteredCountries:t})}else u.default.setState({filteredCountries:u.default.state.countries})},d=l.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}}),f=function(){var e=u.default.state,t=e.lastUpdated,a=e.lineChartData,r=e.allCases,n=e.allDeaths,f=e.allRecovered,m=e.filteredCountries,p=e.search,h=e.chartData;return o.default.createElement(l.View,{style:d.container},t?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Box,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},o.default.createElement(l.Text,{style:[d.title,d.text]},"Worldwide"),o.default.createElement(l.Text,{key:"Total cases: ".concat(r),style:d.text},o.default.createElement(i.L,{t:"Total cases: "}),o.default.createElement(i.V,{t:r})),o.default.createElement(l.Text,{key:"Total deaths: ".concat(n),style:d.text},o.default.createElement(i.L,{t:"Total deaths: "}),o.default.createElement(i.V,{t:n})),o.default.createElement(l.Text,{key:"Total recovered: ".concat(f),style:d.text},o.default.createElement(i.L,{t:"Total recovered: "}),o.default.createElement(i.V,{t:f})),o.default.createElement(l.Text,{key:"updated on: ".concat(t.toDateString()),style:d.text},o.default.createElement(i.L,{t:"Updated on: "}),o.default.createElement(i.V,{t:t.toDateString()}))),o.default.createElement(l.View,{style:{width:"80%",marginBottom:20,flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.default.createElement(i.default,{data:h}),o.default.createElement(i.LineChart,{data:a,legend:!0})),o.default.createElement(l.TextInput,{style:{height:40,borderColor:"gray",borderWidth:1,backgroundColor:"#ccc",width:"80%",borderRadius:3,paddingLeft:8,paddingRight:8},placeholder:"Type Country Name Here...",onChangeText:s,value:p||""}),o.default.createElement(i.Box,null,m.length<1?o.default.createElement(l.Text,{style:[d.title,d.text]},"No counteries were found.. try another search term"):m.map((function(e,t){var a=e.country,r=e.confirmed,n=e.deaths,u=e.recovered,s=e.population,f=e.precentage;return s||console.log("--\xaf_(\u30c4)_/\xaf-----------country----------",a),o.default.createElement(c.Link,{to:"country/".concat(a),key:t},o.default.createElement(l.View,{style:d.country},o.default.createElement(l.Text,{style:[d.title,d.text]},a),o.default.createElement(l.Text,{style:d.text},o.default.createElement(i.L,{t:"Cases:"})," ",o.default.createElement(i.V,{t:(0,i.numberWithCommas)(r)})),o.default.createElement(l.Text,{style:d.text},o.default.createElement(i.L,{t:"Deaths: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(n)})),o.default.createElement(l.Text,{style:d.text},o.default.createElement(i.L,{t:"Recovered: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(u)})),!!s&&o.default.createElement(l.Text,{style:d.text},o.default.createElement(i.L,{t:"Population: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(s)})),!!f&&o.default.createElement(l.Text,{style:d.text},o.default.createElement(i.L,{t:"Population infected: "}),o.default.createElement(i.V,{t:f+"%"}))))})))):o.default.createElement(l.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))};t.default=f},397:function(e,t,a){var r=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.d=void 0;var n=r(a(103)),o=r(a(151)),l=r(a(153)),c=r(a(154)),i=r(a(155)),u=a(159),s=a(398),d=a(606),f={};t.d=f;var m=function(){function e(){(0,c.default)(this,e)}return(0,i.default)(e,[{key:"getData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0==t){e.next=8;break}return t=u(t,"MM-DD-YYYY").format("MM-DD-YYYY"),e.next=5,this.fetchData(t);case 5:a=e.sent,e.next=12;break;case 8:return t=u().format("MM-DD-YYYY"),e.next=11,this.fetchData(t);case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeSeriesData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},r=u().format("MM-DD-YYYY"),t=t.toLowerCase(),!(void 0===(a=f[t])||a&&a.lastUpdated!==r)){e.next=8;break}return e.next=7,this.addRemoteTimesSeries(t);case 7:a=f[t];case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},a=f[t];case 2:if(!(void 0===a&&u(t,"MM-DD-YYYY")>=u("01-22-2020","MM-DD-YYYY"))){e.next=15;break}return e.next=5,this.addRemoteDailyReports(t);case 5:if(void 0!=(a=f[t])){e.next=13;break}if(t=u(t,"MM-DD-YYYY").subtract(1,"days").format("MM-DD-YYYY"),void 0!==(a=f[t])){e.next=13;break}return e.next=12,this.addRemoteDailyReports(t);case 12:a=f[t];case 13:e.next=2;break;case 15:return void 0===a&&(a={error:"Data not found. Plase try again."}),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteDailyReports",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv"))).subscribe(function(){var e=(0,l.default)(o.default.mark((function e(r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var o={};o=u(t,"MM-DD-YYYY")<=u("03-22-2020","MM-DD-YYYY")?{country:r["Country/Region"]||"",state:r["Province/State"]||"",lat:r.Latitude||"0.0",lon:r.Longitude||"0.0",lastUpdate:r["Last Update"]||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0}:{country:r.Country_Region||"",state:r.Province_State||"",lat:r.Lat||"0.0",lon:r.Long_||"0.0",lastUpdate:r.Last_Update||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0},a.push(o),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,l.default)(o.default.mark((function e(n){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,r.groupBy("country",a,t);case 3:l=e.sent,delete f[t],f[t]=l;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupBy",value:function(){var e=(0,l.default)(o.default.mark((function e(t,a,r){var n,l,c,i,u,s,d,f,m,p,h,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,i=0,u=0,s=0,d=0,f=0,(n={}).countries=l=[],m=0;case 10:if(!(m<a.length)){e.next=37;break}p=!1,c=0,i=0,u=0,s+=parseInt(a[m].confirmed),d+=parseInt(a[m].recovered),f+=parseInt(a[m].deaths),h=0;case 19:if(!(h<l.length)){e.next=33;break}if(l[h][t]!=a[m][t]){e.next=30;break}return c+=parseInt(a[m].confirmed),l[h].confirmed=c+parseInt(l[h].confirmed),i+=parseInt(a[m].recovered),l[h].recovered=i+parseInt(l[h].recovered),u+=parseInt(a[m].deaths),l[h].deaths=u+parseInt(l[h].deaths),l[h].locations.push(a[m]),p=!0,e.abrupt("break",33);case 30:h++,e.next=19;break;case 33:p||(c=0,i=0,u=0,v={locations:[]},c+=parseInt(a[m].confirmed),v.confirmed=c,i+=parseInt(a[m].recovered),v.recovered=i,u+=parseInt(a[m].deaths),v.deaths=u,v[t]=a[m][t],v.lat=a[m].lat,v.lon=a[m].lon,v.locations.push(a[m]),l.push(v));case 34:m++,e.next=10;break;case 37:return n.date=r,n.confirmed=s,n.recovered=d,n.deaths=f,e.abrupt("return",n);case 42:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"addRemoteTimesSeries",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r,c,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=u("2020-03-11"),c=u(),e.next=5,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_".concat(t,"_global.csv"))).subscribe(function(){var e=(0,l.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){for(var l={country:t["Country/Region"]||"",state:t["Province/State"]||"",lat:t.Lat||"0.0",lon:t.Long||"0.0"},i=[],s=u(r);s.diff(c,"days")<=0;s.add(1,"days")){var d=s.format("M/D/YY");if(void 0!=t[d]){var f=parseInt(t[d])||0,m=(0,n.default)({},s.format("MM-DD-YYYY"),f);i.push(m)}}if(i.length>0){var p=i[i.length-1];l.total=Object.values(p)[0]}l.dates=i,a.push(l),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,l.default)(o.default.mark((function e(r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,i.groupByTimesSeries("country",a);case 3:a=e.sent,delete f[t],f[t]=a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupByTimesSeries",value:function(){var e=(0,l.default)(o.default.mark((function e(t,a){var r,n,l,c,i,s,d,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,(r={}).countries=n=[],c=0;case 5:if(!(c<a.length)){e.next=24;break}i=0,s=!1,d=0;case 9:if(!(d<n.length)){e.next=18;break}if(n[d][t]!=a[c][t]){e.next=15;break}return i+=parseInt(a[c].total)||0,n[d].locations.push(a[c]),s=!0,e.abrupt("break",18);case 15:d++,e.next=9;break;case 18:s||((f={locations:[]})[t]=a[c][t],f.lat=a[c].lat,f.lon=a[c].lon,i+=parseInt(a[c].total)||0,f.locations.push(a[c]),n.push(f)),n[d].total=i,l+=i;case 21:c++,e.next=5;break;case 24:return r.lastUpdated=u().format("MM-DD-YYYY"),r.total=l,e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();e.exports=m},413:function(e,t){},415:function(e,t){},445:function(e,t){},446:function(e,t){},490:function(e,t){},492:function(e,t){},515:function(e,t){},607:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){if(new URL("/corona",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/corona","/service-worker.js");r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):n(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):n(t,e)}))}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}},[[267,1,2]]]);
//# sourceMappingURL=main.949093fb.chunk.js.map