(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{146:function(e,t,r){var a=r(56);Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithCommas=f,t.default=t.BarChart=t.LineChart=t.V=t.L=t.Box=t.colors=t.format=void 0;var n=a(r(157)),o=a(r(0)),c=r(101),i=r(305);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.format=function(e){return e<10?"0".concat(e):e};var s=["#ff0029","#377eb8","#7f80cd","#66a61e","#984ea3","#00d2d5","#ff7f00","#af8d00","#b3e900","#fec254","#ccebc5","#a63603","#016c59","#e7298a","#c994c7","#dfdf00","#df00df","#80ff80"];t.colors=s;var d={type:"logarithmic",ticks:{min:.1,max:1e3,callback:function(e,t,r){return Number(e.toString())}},afterBuildTicks:function(e){e.ticks=[],e.ticks.push(.1),e.ticks.push(1),e.ticks.push(10),e.ticks.push(100),e.ticks.push(1e3)}};t.Box=function(e){var t=e.children,r=e.style;return o.default.createElement(c.View,{style:[{margin:10,padding:10,width:"80%"},r]},t)};t.L=function(e){var t=e.t;return o.default.createElement(c.Text,{style:{color:"#ddd"}},t)};function f(e){var t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(e>999){var r="";return t.length>4&&"000"!==t.slice(-3)&&(r=".".concat(t.slice(-3)[0])),"".concat(t.slice(0,t.length-4)).concat(r,"K")}return t}t.V=function(e){var t=e.t;return o.default.createElement(c.Text,{style:{color:"#fff"}},t)};t.LineChart=function(e){var t=e.data,r=e.legend,a=e.title,n=e.logarithmic,l={title:{display:n||!!a,text:n?"Logarithmic chart":t.datasets[0].label,fontSize:20},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,r){return f(e)}}}]},legend:{display:!!r,position:"bottom",labels:{fontColor:"white",boxWidth:20,padding:20}}};return o.default.createElement(c.View,{style:{marginTop:20,height:450,width:"100%",position:"relative"}},o.default.createElement(i.Line,{data:t,options:n?u({},d,{},l):l}))};var p=function(e){var t=e.data,r=e.colors;return t.datasets[0].backgroundColor=r||s,t.datasets[0].hoverBackgroundColor=r||s,o.default.createElement(c.View,{style:{marginTop:20,height:"40vh",width:"100%",position:"relative"}},o.default.createElement(i.Bar,{data:t,options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,r){return f(e)}}}]},title:{display:!1,fontSize:20},legend:{display:!1,position:"right"}}}))};t.BarChart=p;var m=function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement(p,e))};t.default=m},147:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=new(r(156).State)("state",{lastUpdated:null,search:""});t.default=a},267:function(e,t,r){e.exports=r(268)},268:function(e,t,r){var a=r(100),n=r(56),o=n(r(0)),c=n(r(29));r(273);var i=n(r(274)),l=a(r(606));c.default.render(o.default.createElement(i.default,null),document.getElementById("root")),l.register()},273:function(e,t,r){},274:function(e,t,r){var a=r(100),n=r(56);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(150)),c=n(r(266)),i=n(r(151)),l=n(r(152)),u=n(r(153)),s=n(r(279)),d=n(r(281)),f=n(r(282)),p=a(r(0)),m=r(101),h=r(148),v=r(156),g=n(r(304)),y=r(146),b=n(r(147)),k=(0,p.lazy)((function(){return r.e(3).then(r.t.bind(null,607,7))})),w=new(r(396)),x=function(e){function t(){return(0,l.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,i.default)(o.default.mark((function e(){var t,r,a,n,i,l,u,s,d,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([w.getData(),w.getTimeSeriesData("confirmed")]);case 2:t=e.sent,r=(0,c.default)(t,2),a=r[0],n=r[1],console.log("--\xaf_(\u30c4)_/\xaf-----------d----------",a),console.log("--\xaf_(\u30c4)_/\xaf-----------time----------",n),i=a.countries,l=i.sort((function(e,t){return t.confirmed-e.confirmed})).slice(0,6),u=l.map((function(e){return e.country})),s=l.map((function(e){return e.confirmed})),d={labels:u,datasets:[{label:"Cases per country",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:s}]},f={labels:[],datasets:[]},n.countries.sort((function(e,t){var r=0,a=0;return e.locations.forEach((function(e){r+=e.total})),t.locations.forEach((function(e){a+=e.total})),a-r})).slice(0,10).forEach((function(e,t){var r=e.locations[0].dates.map((function(t,r){var a=0,n=Object.keys(t)[0];return e.locations.forEach((function(e){a+=e.dates[r][n]})),{y:n,x:a}}));f.labels.length<1&&(f.labels=r.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),r=t.getDate(),a=t.getMonth()+1;return"".concat((0,y.format)(r),".").concat((0,y.format)(a))}))),f.datasets.push({label:e.country,borderColor:y.colors[t],fill:!1,borderWidth:1,data:r.map((function(e){return e.x}))})})),b.default.setState({lastUpdated:new Date(a.date.replace(/-/g,"/")),allCases:(0,y.numberWithCommas)(a.confirmed),allDeaths:(0,y.numberWithCommas)(a.deaths),allRecovered:(0,y.numberWithCommas)(a.recovered),countries:i,filteredCountries:i,chartData:d,time:n,lineChartData:f});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=b.default.state.lastUpdated;return p.default.createElement(h.BrowserRouter,{basename:"/corona"},p.default.createElement(m.ScrollView,{contentContainerStyle:E.container},p.default.createElement(m.View,{style:E.container},p.default.createElement(m.Text,{accessibilityRole:"link",target:"_blank",href:"https://github.com/CSSEGISandData/COVID-19",style:[E.title,{color:"#aaa",padding:10,width:"100%"}]},"COVID-19 data provided by Johns Hopkins CSSE"),e?p.default.createElement(p.default.Fragment,null,p.default.createElement(h.Link,{to:"/"},p.default.createElement(m.Text,{style:[E.title,{color:"#fff",padding:10,width:"100%",backgroundColor:"#00429d",lineHeight:35}]},"Go Back Home")),p.default.createElement(h.Switch,null,p.default.createElement(h.Route,{path:"/country/:country"},p.default.createElement(p.Suspense,{fallback:"Loading... "},p.default.createElement(k,null))),p.default.createElement(h.Route,{path:"/"},p.default.createElement(g.default,null)),p.default.createElement(h.Redirect,{to:"/"}))):p.default.createElement(m.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))))}}]),t}(p.Component),E=m.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16}}),D=(0,v.subscribe)(x,[b.default]);t.default=D},304:function(e,t,r){var a=r(100),n=r(56);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(0)),c=r(101),i=r(148),l=a(r(146)),u=n(r(147)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(u.default.setState({search:e}),e.length){var t=u.default.state.countries.filter((function(t){return t.country.toLowerCase().includes(e.toLowerCase())}));u.default.setState({filteredCountries:t})}else u.default.setState({filteredCountries:u.default.state.countries})},d=c.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}}),f=function(){var e=u.default.state,t=e.lastUpdated,r=e.lineChartData,a=e.allCases,n=e.allDeaths,f=e.allRecovered,p=e.filteredCountries,m=e.search,h=e.chartData;return o.default.createElement(c.View,{style:d.container},t?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},o.default.createElement(c.Text,{style:[d.title,d.text]},"Worldwide"),o.default.createElement(c.Text,{key:"Total cases: ".concat(a),style:d.text},o.default.createElement(l.L,{t:"Total cases: "}),o.default.createElement(l.V,{t:a})),o.default.createElement(c.Text,{key:"Total deaths: ".concat(n),style:d.text},o.default.createElement(l.L,{t:"Total deaths: "}),o.default.createElement(l.V,{t:n})),o.default.createElement(c.Text,{key:"Total recovered: ".concat(f),style:d.text},o.default.createElement(l.L,{t:"Total recovered: "}),o.default.createElement(l.V,{t:f})),o.default.createElement(c.Text,{key:"updated on: ".concat(t.toDateString()),style:d.text},o.default.createElement(l.L,{t:"Updated on: "}),o.default.createElement(l.V,{t:t.toDateString()}))),o.default.createElement(c.View,{style:{width:"80%",marginBottom:20,flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.default.createElement(l.default,{data:h}),o.default.createElement(l.LineChart,{data:r,legend:!0})),o.default.createElement(c.TextInput,{style:{height:40,borderColor:"gray",borderWidth:1,backgroundColor:"#ccc",width:"80%",borderRadius:3,paddingLeft:8,paddingRight:8},placeholder:"Type Country Name Here...",onChangeText:s,value:m||""}),o.default.createElement(l.Box,null,p.length<1?o.default.createElement(c.Text,{style:[d.title,d.text]},"No counteries were found.. try another search term"):p.map((function(e,t){var r=e.country,a=e.confirmed,n=e.deaths,u=e.recovered;return o.default.createElement(i.Link,{to:"/country/".concat(r),key:t},o.default.createElement(c.View,{style:d.country},o.default.createElement(c.Text,{style:[d.title,d.text]},r),o.default.createElement(c.Text,{style:d.text},o.default.createElement(l.L,{t:"Cases:"})," ",o.default.createElement(l.V,{t:(0,l.numberWithCommas)(a)})),o.default.createElement(c.Text,{style:d.text},o.default.createElement(l.L,{t:"Deaths: "}),o.default.createElement(l.V,{t:(0,l.numberWithCommas)(n)})),o.default.createElement(c.Text,{style:d.text},o.default.createElement(l.L,{t:"Recovered: "}),o.default.createElement(l.V,{t:(0,l.numberWithCommas)(u)}))))})))):o.default.createElement(c.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))};t.default=f},396:function(e,t,r){var a=r(56);Object.defineProperty(t,"__esModule",{value:!0}),t.d=void 0;var n=a(r(157)),o=a(r(150)),c=a(r(151)),i=a(r(152)),l=a(r(153)),u=r(158),s=r(397),d=r(605),f={};t.d=f;var p=function(){function e(){(0,i.default)(this,e)}return(0,l.default)(e,[{key:"getData",value:function(){var e=(0,c.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},void 0==t){e.next=8;break}return t=u(t,"MM-DD-YYYY").format("MM-DD-YYYY"),e.next=5,this.fetchData(t);case 5:r=e.sent,e.next=12;break;case 8:return t=u().format("MM-DD-YYYY"),e.next=11,this.fetchData(t);case 11:r=e.sent;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeSeriesData",value:function(){var e=(0,c.default)(o.default.mark((function e(t){var r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a=u().format("MM-DD-YYYY"),t=t.toLowerCase(),!(void 0===(r=f[t])||r&&r.lastUpdated!==a)){e.next=8;break}return e.next=7,this.addRemoteTimesSeries(t);case 7:r=f[t];case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=(0,c.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},r=f[t];case 2:if(!(void 0===r&&u(t,"MM-DD-YYYY")>=u("01-22-2020","MM-DD-YYYY"))){e.next=15;break}return e.next=5,this.addRemoteDailyReports(t);case 5:if(void 0!=(r=f[t])){e.next=13;break}if(t=u(t,"MM-DD-YYYY").subtract(1,"days").format("MM-DD-YYYY"),void 0!==(r=f[t])){e.next=13;break}return e.next=12,this.addRemoteDailyReports(t);case 12:r=f[t];case 13:e.next=2;break;case 15:return void 0===r&&(r={error:"Data not found. Plase try again."}),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteDailyReports",value:function(){var e=(0,c.default)(o.default.mark((function e(t){var r,a=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv"))).subscribe(function(){var e=(0,c.default)(o.default.mark((function e(a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var o={};o=u(t,"MM-DD-YYYY")<=u("03-22-2020","MM-DD-YYYY")?{country:a["Country/Region"]||"",state:a["Province/State"]||"",lat:a.Latitude||"0.0",lon:a.Longitude||"0.0",lastUpdate:a["Last Update"]||"",confirmed:parseInt(a.Confirmed)||0,deaths:parseInt(a.Deaths)||0,recovered:parseInt(a.Recovered)||0}:{country:a.Country_Region||"",state:a.Province_State||"",lat:a.Lat||"0.0",lon:a.Long_||"0.0",lastUpdate:a.Last_Update||"",confirmed:parseInt(a.Confirmed)||0,deaths:parseInt(a.Deaths)||0,recovered:parseInt(a.Recovered)||0},r.push(o),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,c.default)(o.default.mark((function e(n){var c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=6;break}return e.next=3,a.groupBy("country",r,t);case 3:c=e.sent,delete f[t],f[t]=c;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupBy",value:function(){var e=(0,c.default)(o.default.mark((function e(t,r,a){var n,c,i,l,u,s,d,f,p,m,h,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,l=0,u=0,s=0,d=0,f=0,(n={}).countries=c=[],p=0;case 10:if(!(p<r.length)){e.next=37;break}m=!1,i=0,l=0,u=0,s+=parseInt(r[p].confirmed),d+=parseInt(r[p].recovered),f+=parseInt(r[p].deaths),h=0;case 19:if(!(h<c.length)){e.next=33;break}if(c[h][t]!=r[p][t]){e.next=30;break}return i+=parseInt(r[p].confirmed),c[h].confirmed=i+parseInt(c[h].confirmed),l+=parseInt(r[p].recovered),c[h].recovered=l+parseInt(c[h].recovered),u+=parseInt(r[p].deaths),c[h].deaths=u+parseInt(c[h].deaths),c[h].locations.push(r[p]),m=!0,e.abrupt("break",33);case 30:h++,e.next=19;break;case 33:m||(i=0,l=0,u=0,v={locations:[]},i+=parseInt(r[p].confirmed),v.confirmed=i,l+=parseInt(r[p].recovered),v.recovered=l,u+=parseInt(r[p].deaths),v.deaths=u,v[t]=r[p][t],v.lat=r[p].lat,v.lon=r[p].lon,v.locations.push(r[p]),c.push(v));case 34:p++,e.next=10;break;case 37:return n.date=a,n.confirmed=s,n.recovered=d,n.deaths=f,e.abrupt("return",n);case 42:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"addRemoteTimesSeries",value:function(){var e=(0,c.default)(o.default.mark((function e(t){var r,a,i,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=u("2020-03-11"),i=u(),e.next=5,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_".concat(t,"_global.csv"))).subscribe(function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){for(var c={country:t["Country/Region"]||"",state:t["Province/State"]||"",lat:t.Lat||"0.0",lon:t.Long||"0.0"},l=[],s=u(a);s.diff(i,"days")<=0;s.add(1,"days")){var d=s.format("M/D/YY");if(void 0!=t[d]){var f=parseInt(t[d])||0,p=(0,n.default)({},s.format("MM-DD-YYYY"),f);l.push(p)}}if(l.length>0){var m=l[l.length-1];c.total=Object.values(m)[0]}c.dates=l,r.push(c),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,c.default)(o.default.mark((function e(a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=6;break}return e.next=3,l.groupByTimesSeries("country",r);case 3:r=e.sent,delete f[t],f[t]=r;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupByTimesSeries",value:function(){var e=(0,c.default)(o.default.mark((function e(t,r){var a,n,c,i,l,s,d,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,(a={}).countries=n=[],i=0;case 5:if(!(i<r.length)){e.next=24;break}l=0,s=!1,d=0;case 9:if(!(d<n.length)){e.next=18;break}if(n[d][t]!=r[i][t]){e.next=15;break}return l+=parseInt(r[i].total)||0,n[d].locations.push(r[i]),s=!0,e.abrupt("break",18);case 15:d++,e.next=9;break;case 18:s||((f={locations:[]})[t]=r[i][t],f.lat=r[i].lat,f.lon=r[i].lon,l+=parseInt(r[i].total)||0,f.locations.push(r[i]),n.push(f)),n[d].total=l,c+=l;case 21:i++,e.next=5;break;case 24:return a.lastUpdated=u().format("MM-DD-YYYY"),a.total=c,e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();e.exports=p},412:function(e,t){},414:function(e,t){},444:function(e,t){},445:function(e,t){},489:function(e,t){},491:function(e,t){},514:function(e,t){},606:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){if(new URL("/corona",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/corona","/service-worker.js");a?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):n(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):n(t,e)}))}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))};var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}},[[267,1,2]]]);
//# sourceMappingURL=main.97337a1d.chunk.js.map