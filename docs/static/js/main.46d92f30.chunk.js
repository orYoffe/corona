(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{105:function(e,t,a){var r=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BarChart=t.LineChart=t.colors=void 0;var n=r(a(158)),o=r(a(0)),l=a(305),c=a(96);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=["#ff0029","#377eb8","#7f80cd","#66a61e","#984ea3","#00d2d5","#ff7f00","#af8d00","#b3e900","#fec254","#ccebc5","#a63603","#016c59","#e7298a","#c994c7","#dfdf00","#df00df","#80ff80"];t.colors=s;var d={type:"logarithmic",ticks:{min:.1,max:1e3,callback:function(e,t,a){return Number(e.toString())}},afterBuildTicks:function(e){e.ticks=[],e.ticks.push(.1),e.ticks.push(1),e.ticks.push(10),e.ticks.push(100),e.ticks.push(1e3)}};function f(e){var t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e>999?"".concat(t.slice(0,t.length-4),"K"):t}t.LineChart=function(e){var t=e.data,a=e.legend,r=e.title,n=e.logarithmic,i={title:{display:n||!!r,text:n?"Logarithmic chart":t.datasets[0].label,fontSize:20},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return f(e)}}}]},legend:{display:!!a,position:"bottom",labels:{fontColor:"white",boxWidth:20,padding:20}}};return o.default.createElement(c.View,{style:{marginTop:20,height:450,width:"100%",position:"relative"}},o.default.createElement(l.Line,{data:t,options:n?u({},d,{},i):i}))};var p=function(e){var t=e.data,a=e.colors;return t.datasets[0].backgroundColor=a||s,t.datasets[0].hoverBackgroundColor=a||s,o.default.createElement(c.View,{style:{marginTop:20,height:"40vh",width:"100%",position:"relative"}},o.default.createElement(l.Bar,{data:t,options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return f(e)}}}]},title:{display:!1,fontSize:20},legend:{display:!1,position:"right"}}}))};t.BarChart=p;var m=function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement(p,e))};t.default=m},114:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new(a(157).State)("state",{lastUpdated:null,search:""});t.default=r},267:function(e,t,a){e.exports=a(268)},268:function(e,t,a){var r=a(79),n=a(41),o=n(a(0)),l=n(a(29));a(273);var c=n(a(274)),i=r(a(608));l.default.render(o.default.createElement(c.default,null),document.getElementById("root")),i.unregister()},273:function(e,t,a){},274:function(e,t,a){var r=a(79),n=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(103)),l=n(a(152)),c=n(a(104)),i=n(a(153)),u=n(a(154)),s=n(a(279)),d=n(a(281)),f=n(a(282)),p=r(a(0)),m=a(96),h=a(145),v=a(157),g=n(a(304)),y=n(a(396)),b=a(105),x=(n(a(397)),n(a(114))),w=new(a(398));function k(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}Promise.all([w.getData(),w.getTimeSeriesData("confirmed")]);var E=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,c.default)(o.default.mark((function e(){var t,a,r,n,c,i,u,s,d,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([w.getData(),w.getTimeSeriesData("confirmed")]);case 2:t=e.sent,a=(0,l.default)(t,2),r=a[0],n=a[1],console.log("--\xaf_(\u30c4)_/\xaf-----------d----------",r),console.log("--\xaf_(\u30c4)_/\xaf-----------time----------",n),c=r.countries,i=c.sort((function(e,t){return t.confirmed-e.confirmed})).slice(0,6),u=i.map((function(e){return e.country})),s=i.map((function(e){return e.confirmed})),d={labels:u,datasets:[{label:"Cases per country",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:s}]},f={labels:[],datasets:[]},p=function(e){return e<10?"0".concat(e):e},n.countries.sort((function(e,t){var a=0,r=0;return e.locations.forEach((function(e){a+=e.total})),t.locations.forEach((function(e){r+=e.total})),r-a})).slice(0,10).forEach((function(e,t){var a=e.locations[0].dates.map((function(t,a){var r=0,n=Object.keys(t)[0];return e.locations.forEach((function(e){r+=e.dates[a][n]})),{y:n,x:r}}));f.labels.length<1&&(f.labels=a.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat(p(a),".").concat(p(r))}))),f.datasets.push({label:e.country,borderColor:b.colors[t],fill:!1,borderWidth:1,data:a.map((function(e){return e.x}))})})),x.default.setState({lastUpdated:new Date(r.date.replace(/-/g,"/")),allCases:k(r.confirmed),allDeaths:k(r.deaths),allRecovered:k(r.recovered),countries:c,filteredCountries:c,chartData:d,time:n,lineChartData:f});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=x.default.state.lastUpdated;return p.default.createElement(h.BrowserRouter,null,p.default.createElement(m.ScrollView,{contentContainerStyle:S.container},p.default.createElement(m.View,{style:S.container},p.default.createElement(m.Text,{accessibilityRole:"link",target:"_blank",href:"https://github.com/CSSEGISandData/COVID-19",style:[S.title,{color:"#aaa",padding:10,width:"100%"}]},"COVID-19 data provided by Johns Hopkins CSSE"),e?p.default.createElement(p.default.Fragment,null,p.default.createElement(h.Link,{to:"/"},p.default.createElement(m.Text,{style:[S.title,{color:"#fff",padding:10,width:"100%",backgroundColor:"#00429d",lineHeight:35}]},"Go Back Home")),p.default.createElement(h.Switch,null,p.default.createElement(h.Route,{path:"/country/:country"},p.default.createElement(y.default,null)),p.default.createElement(h.Route,{path:"/"},p.default.createElement(g.default,null)),p.default.createElement(h.Redirect,{to:"/"}))):p.default.createElement(m.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))))}}]),t}(p.Component),S=m.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},box:{margin:10,padding:10,width:"80%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1},label:{color:"#ddd"},Value:{color:"#fff"}}),D=(0,v.subscribe)(E,[x.default]);t.default=D},304:function(e,t,a){var r=a(79),n=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),l=a(96),c=a(145),i=r(a(105)),u=n(a(114));function s(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var d=function(e){var t=e.children,a=e.style;return o.default.createElement(l.View,{style:[h.box,a]},t)},f=function(e){var t=e.t;return o.default.createElement(l.Text,{style:h.label},t)},p=function(e){var t=e.t;return o.default.createElement(l.Text,{style:h.value},t)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(u.default.setState({search:e}),e.length){var t=u.default.state.countries.filter((function(t){return t.country.toLowerCase().includes(e.toLowerCase())}));u.default.setState({filteredCountries:t})}else u.default.setState({filteredCountries:u.default.state.countries})},h=l.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},box:{margin:10,padding:10,width:"80%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1},label:{color:"#ddd"},Value:{color:"#fff"}}),v=function(){var e=u.default.state,t=e.lastUpdated,a=e.lineChartData,r=e.allCases,n=e.allDeaths,v=e.allRecovered,g=e.filteredCountries,y=e.search,b=e.chartData;return o.default.createElement(l.View,{style:h.container},t?o.default.createElement(o.default.Fragment,null,o.default.createElement(d,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},o.default.createElement(l.Text,{style:[h.title,h.text]},"Worldwide"),o.default.createElement(l.Text,{key:"Total cases: ".concat(r),style:h.text},o.default.createElement(f,{t:"Total cases: "}),o.default.createElement(p,{t:r})),o.default.createElement(l.Text,{key:"Total deaths: ".concat(n),style:h.text},o.default.createElement(f,{t:"Total deaths: "}),o.default.createElement(p,{t:n})),o.default.createElement(l.Text,{key:"Total recovered: ".concat(v),style:h.text},o.default.createElement(f,{t:"Total recovered: "}),o.default.createElement(p,{t:v})),o.default.createElement(l.Text,{key:"updated on: ".concat(t.toDateString()),style:h.text},o.default.createElement(f,{t:"Updated on: "}),o.default.createElement(p,{t:t.toDateString()}))),o.default.createElement(l.View,{style:{width:"80%",marginBottom:20,flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.default.createElement(i.default,{data:b}),o.default.createElement(i.LineChart,{data:a,legend:!0})),o.default.createElement(l.TextInput,{style:{height:40,borderColor:"gray",borderWidth:1,backgroundColor:"#ccc",width:"80%",borderRadius:3,paddingLeft:8,paddingRight:8},placeholder:"Type Country Name Here...",onChangeText:m,value:y||""}),o.default.createElement(d,null,g.length<1?o.default.createElement(l.Text,{style:[h.title,h.text]},"No counteries were found.. try another search term"):g.map((function(e,t){var a=e.country,r=e.confirmed,n=e.deaths,i=e.recovered;return o.default.createElement(c.Link,{to:"/country/".concat(a),key:t},o.default.createElement(l.View,{style:h.country},o.default.createElement(l.Text,{style:[h.title,h.text]},a),o.default.createElement(l.Text,{style:h.text},o.default.createElement(f,{t:"Cases:"})," ",o.default.createElement(p,{t:s(r)})),o.default.createElement(l.Text,{style:h.text},o.default.createElement(f,{t:"Deaths: "}),o.default.createElement(p,{t:s(n)})),o.default.createElement(l.Text,{style:h.text},o.default.createElement(f,{t:"Recovered: "}),o.default.createElement(p,{t:s(i)}))))})))):o.default.createElement(l.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))};t.default=v},396:function(e,t,a){var r=a(79),n=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(152)),l=r(a(0)),c=a(96),i=a(145),u=a(105),s=n(a(114));function d(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var f=function(e){var t=e.children,a=e.style;return l.default.createElement(c.View,{style:[h.box,a]},t)},p=function(e){var t=e.t;return l.default.createElement(c.Text,{style:h.label},t)},m=function(e){var t=e.t;return l.default.createElement(c.Text,{style:h.value},t)},h=c.StyleSheet.create({container:{backgroundColor:"#282c34",alignItems:"center",minHeight:"100%",width:"100%"},box:{margin:10,padding:10,width:"80%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1},label:{color:"#ddd"},Value:{color:"#fff"}}),v=function(){var e=(0,i.useParams)().country,t=(0,l.useState)(null),a=(0,o.default)(t,2),r=a[0],n=a[1],v=(0,l.useState)(null),g=(0,o.default)(v,2),y=g[0],b=g[1],x=(0,l.useState)(null),w=(0,o.default)(x,2),k=w[0],E=w[1],S=(0,l.useState)(null),D=(0,o.default)(S,2),C=D[0],T=D[1];return(0,l.useEffect)((function(){var t=s.default.state,a=t.countries,r=t.time.countries.find((function(t){return t.country===e})),o=a.find((function(t){return t.country===e}));if(o){T(o);var l=o.confirmed,c=o.recovered,i=o.deaths;n({labels:["Total","Recovered","Deaths"],datasets:[{label:e,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[l,c,i]}]})}else T(0);if(r){var u=r.locations[0].dates.map((function(e,t){var a=0,n=Object.keys(e)[0];return r.locations.forEach((function(e){a+=e.dates[t][n]})),{y:n,x:a}})),d=function(e){return e<10?"0".concat(e):e},f=u.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat(d(a),".").concat(d(r))})),p={labels:f,datasets:[{label:"Confirmed Cases",backgroundColor:"rgba(75,192,192,1)",borderWidth:2,data:u.map((function(e){return e.x}))}]};E(p);var m=u.map((function(e,t){return parseInt(e.x)-parseInt(u[t-1]&&u[t-1].x||0)})),h={labels:f.slice(1),datasets:[{label:"Daily Cases",backgroundColor:"#d45757",borderWidth:2,data:m.slice(1)}]};b(h)}else E(0)}),[e]),null===C?l.default.createElement(c.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}):l.default.createElement(c.View,{style:h.container},0===C?l.default.createElement(c.Text,{style:[h.title,h.text]},"No country by the name ",e," was found"):l.default.createElement(l.default.Fragment,null,l.default.createElement(f,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},l.default.createElement(c.Text,{style:[h.title,h.text]},e),l.default.createElement(c.Text,{key:"Total cases: ".concat(C.confirmed),style:h.text},l.default.createElement(p,{t:"Total cases: "}),l.default.createElement(m,{t:d(C.confirmed)})),l.default.createElement(c.Text,{key:"Total deaths: ".concat(C.deaths),style:h.text},l.default.createElement(p,{t:"Total deaths: "}),l.default.createElement(m,{t:d(C.deaths)})),l.default.createElement(c.Text,{key:"Total recovered: ".concat(C.recovered),style:h.text},l.default.createElement(p,{t:"Total recovered: "}),l.default.createElement(m,{t:d(C.recovered)})),l.default.createElement(c.Text,{key:"updated on: ".concat(s.default.state.lastUpdated.toDateString()),style:h.text},l.default.createElement(p,{t:"Updated on: "}),l.default.createElement(m,{t:s.default.state.lastUpdated.toDateString()}))),!!k&&l.default.createElement(c.View,{style:{width:"80%",marginBottom:20}},l.default.createElement(u.LineChart,{data:k,title:!0}),y&&l.default.createElement(u.LineChart,{data:y,title:!0}),l.default.createElement(u.BarChart,{data:r,colors:["#ff2222","#00ff00","#ccc"]}))))};t.default=v},397:function(e,t,a){var r=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(103)),o=r(a(104)),l=function(){var e=(0,o.default)(n.default.mark((function e(){var t,a;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/data",{method:"post",body:{}});case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.default=l},398:function(e,t,a){var r=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.d=void 0;var n=r(a(158)),o=r(a(153)),l=r(a(154)),c=r(a(103)),i=r(a(104)),u=a(159),s=a(399),d=a(607),f={};t.d=f;(function(){var e=(0,i.default)(c.default.mark((function e(t){var a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem(t),e.abrupt("return",a||void 0);case 2:case"end":return e.stop()}}),e)})))})(),function(){var e=(0,i.default)(c.default.mark((function e(t,a){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r||void 0);case 2:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,i.default)(c.default.mark((function e(t){var a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.removeItem(t),e.abrupt("return",a||void 0);case 2:case"end":return e.stop()}}),e)})))}();var p=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,[{key:"getData",value:function(){var e=(0,i.default)(c.default.mark((function e(t){var a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0==t){e.next=8;break}return t=u(t,"MM-DD-YYYY").format("MM-DD-YYYY"),e.next=5,this.fetchData(t);case 5:a=e.sent,e.next=12;break;case 8:return t=u().format("MM-DD-YYYY"),e.next=11,this.fetchData(t);case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeSeriesData",value:function(){var e=(0,i.default)(c.default.mark((function e(t){var a,r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},r=u().format("MM-DD-YYYY"),t=t.toLowerCase(),!(void 0===(a=f[t])||a&&a.lastUpdated!==r)){e.next=8;break}return e.next=7,this.addRemoteTimesSeries(t);case 7:a=f[t];case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=(0,i.default)(c.default.mark((function e(t){var a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},a=f[t];case 2:if(!(void 0===a&&u(t,"MM-DD-YYYY")>=u("01-22-2020","MM-DD-YYYY"))){e.next=15;break}return e.next=5,this.addRemoteDailyReports(t);case 5:if(void 0!=(a=f[t])){e.next=13;break}if(t=u(t,"MM-DD-YYYY").subtract(1,"days").format("MM-DD-YYYY"),void 0!==(a=f[t])){e.next=13;break}return e.next=12,this.addRemoteDailyReports(t);case 12:a=f[t];case 13:e.next=2;break;case 15:return void 0===a&&(a={error:"Data not found. Plase try again."}),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteDailyReports",value:function(){var e=(0,i.default)(c.default.mark((function e(t){var a,r=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv"))).subscribe(function(){var e=(0,i.default)(c.default.mark((function e(r){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var o={};o=u(t,"MM-DD-YYYY")<=u("03-22-2020","MM-DD-YYYY")?{country:r["Country/Region"]||"",state:r["Province/State"]||"",lat:r.Latitude||"0.0",lon:r.Longitude||"0.0",lastUpdate:r["Last Update"]||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0}:{country:r.Country_Region||"",state:r.Province_State||"",lat:r.Lat||"0.0",lon:r.Long_||"0.0",lastUpdate:r.Last_Update||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0},a.push(o),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,i.default)(c.default.mark((function e(n){var o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,r.groupBy("country",a,t);case 3:o=e.sent,delete f[t],f[t]=o;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupBy",value:function(){var e=(0,i.default)(c.default.mark((function e(t,a,r){var n,o,l,i,u,s,d,f,p,m,h,v;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,i=0,u=0,s=0,d=0,f=0,(n={}).countries=o=[],p=0;case 10:if(!(p<a.length)){e.next=37;break}m=!1,l=0,i=0,u=0,s+=parseInt(a[p].confirmed),d+=parseInt(a[p].recovered),f+=parseInt(a[p].deaths),h=0;case 19:if(!(h<o.length)){e.next=33;break}if(o[h][t]!=a[p][t]){e.next=30;break}return l+=parseInt(a[p].confirmed),o[h].confirmed=l+parseInt(o[h].confirmed),i+=parseInt(a[p].recovered),o[h].recovered=i+parseInt(o[h].recovered),u+=parseInt(a[p].deaths),o[h].deaths=u+parseInt(o[h].deaths),o[h].locations.push(a[p]),m=!0,e.abrupt("break",33);case 30:h++,e.next=19;break;case 33:m||(l=0,i=0,u=0,v={locations:[]},l+=parseInt(a[p].confirmed),v.confirmed=l,i+=parseInt(a[p].recovered),v.recovered=i,u+=parseInt(a[p].deaths),v.deaths=u,v[t]=a[p][t],v.lat=a[p].lat,v.lon=a[p].lon,v.locations.push(a[p]),o.push(v));case 34:p++,e.next=10;break;case 37:return n.date=r,n.confirmed=s,n.recovered=d,n.deaths=f,e.abrupt("return",n);case 42:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"addRemoteTimesSeries",value:function(){var e=(0,i.default)(c.default.mark((function e(t){var a,r,o,l=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=u("2020-03-11"),o=u(),e.next=5,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_".concat(t,"_global.csv"))).subscribe(function(){var e=(0,i.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,l){for(var c={country:t["Country/Region"]||"",state:t["Province/State"]||"",lat:t.Lat||"0.0",lon:t.Long||"0.0"},i=[],s=u(r);s.diff(o,"days")<=0;s.add(1,"days")){var d=s.format("M/D/YY");if(void 0!=t[d]){var f=parseInt(t[d])||0,p=(0,n.default)({},s.format("MM-DD-YYYY"),f);i.push(p)}}if(i.length>0){var m=i[i.length-1];c.total=Object.values(m)[0]}c.dates=i,a.push(c),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,i.default)(c.default.mark((function e(r){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,l.groupByTimesSeries("country",a);case 3:a=e.sent,delete f[t],f[t]=a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupByTimesSeries",value:function(){var e=(0,i.default)(c.default.mark((function e(t,a){var r,n,o,l,i,s,d,f;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,(r={}).countries=n=[],l=0;case 5:if(!(l<a.length)){e.next=24;break}i=0,s=!1,d=0;case 9:if(!(d<n.length)){e.next=18;break}if(n[d][t]!=a[l][t]){e.next=15;break}return i+=parseInt(a[l].total)||0,n[d].locations.push(a[l]),s=!0,e.abrupt("break",18);case 15:d++,e.next=9;break;case 18:s||((f={locations:[]})[t]=a[l][t],f.lat=a[l].lat,f.lon=a[l].lon,i+=parseInt(a[l].total)||0,f.locations.push(a[l]),n.push(f)),n[d].total=i,o+=i;case 21:l++,e.next=5;break;case 24:return r.lastUpdated=u().format("MM-DD-YYYY"),r.total=o,e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();e.exports=p},414:function(e,t){},416:function(e,t){},446:function(e,t){},447:function(e,t){},491:function(e,t){},493:function(e,t){},516:function(e,t){},608:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){if(new URL("/corona",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/corona","/service-worker.js");r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):n(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):n(t,e)}))}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}},[[267,1,2]]]);
//# sourceMappingURL=main.46d92f30.chunk.js.map