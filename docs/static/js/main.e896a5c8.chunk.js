(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{275:function(e,t,a){e.exports=a(276)},276:function(e,t,a){var r=a(62),n=a(45),o=n(a(0)),l=n(a(27));a(281);var c=n(a(282)),i=r(a(611));l.default.render(o.default.createElement(c.default,null),document.getElementById("root")),i.register()},281:function(e,t,a){},282:function(e,t,a){var r=a(62),n=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(159)),l=n(a(87)),c=n(a(160)),i=n(a(161)),u=n(a(113)),s=n(a(114)),d=n(a(162)),f=n(a(164)),m=n(a(165)),p=r(a(0)),h=a(82),v=a(152),y=a(88),g=n(a(304)),b=n(a(396)),E=a(89),w=n(a(96));function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=new(a(401)),S=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(0,f.default)(t).apply(this,arguments))}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=(0,i.default)(o.default.mark((function e(){var t,a,r,n,l,i,u,s,d,f,m,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([C.getData(),C.getTimeSeriesData("confirmed"),fetch("https://data.opendatasoft.com/api/records/1.0/search/?dataset=world-population%40kapsarc&rows=10000&sort=year&facet=year&facet=country_name").then((function(e){return e.json()}))]);case 2:t=e.sent,a=(0,c.default)(t,3),r=a[0],n=a[1],l=a[2],console.log("--\xaf_(\u30c4)_/\xaf-----------d----------",r),console.log("--\xaf_(\u30c4)_/\xaf-----------time----------",n),console.log("--\xaf_(\u30c4)_/\xaf-----------j----------",l),i={US:"United States",Iran:"Iran, Islamic Rep.",Russia:"Russian Federation","Korea, South":"Korea, Rep.",Czechia:"Czech Republic",Egypt:"Egypt, Arab Rep.",Slovakia:"Slovak Republic",Kyrgyzstan:"Kyrgyz Republic",Venezuela:"Venezuela, RB",Brunei:"Brunei Darussalam",Gambia:"Gambia, The"},u=r.countries.map((function(e){var t=l.records.filter((function(t){var a=t.fields.country_name;return a.toLowerCase()===e.country.toLowerCase()||a===i[e.country]}));if(!t.length)return e;var a=t.sort((function(e,t){return t.fields.year-e.fields.year}))[0];if(!a||!a.fields.value)return e;var r=k({},e,{population:a.fields.value}),n=(e.confirmed/a.fields.value*100).toFixed(2);return n+""!=="0.00"&&(r.precentage=n),r})),s=u.sort((function(e,t){return t.confirmed-e.confirmed})).slice(0,6),d=s.map((function(e){return e.country})),f=s.map((function(e){return e.confirmed})),m={labels:d,datasets:[{label:"Cases per country",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:f}]},p={labels:[],datasets:[]},n.countries.sort((function(e,t){var a=0,r=0;return e.locations.forEach((function(e){a+=e.total})),t.locations.forEach((function(e){r+=e.total})),r-a})).slice(0,10).forEach((function(e,t){var a=e.locations[0].dates.map((function(t,a){var r=0,n=Object.keys(t)[0];return e.locations.forEach((function(e){r+=e.dates[a][n]})),{y:n,x:r}}));p.labels.length<1&&(p.labels=a.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat((0,E.format)(a),".").concat((0,E.format)(r))}))),p.datasets.push({label:e.country,borderColor:E.colors[t],fill:!1,borderWidth:1,data:a.map((function(e){return e.x}))})})),w.default.setState({lastUpdated:new Date(r.date.replace(/-/g,"/")),allCases:(0,E.numberWithCommas)(r.confirmed),allDeaths:(0,E.numberWithCommas)(r.deaths),allRecovered:(0,E.numberWithCommas)(r.recovered),countries:u,filteredCountries:u,chartData:m,time:n,lineChartData:p});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.lastUpdated;return p.default.createElement(v.BrowserRouter,{basename:"/corona"},p.default.createElement(h.ScrollView,{contentContainerStyle:D.container},p.default.createElement(h.View,{style:D.container},p.default.createElement(h.Text,{accessibilityRole:"link",target:"_blank",href:"https://github.com/CSSEGISandData/COVID-19",style:[D.title,{color:"#aaa",padding:10,width:"100%"}]},"COVID-19 data provided by Johns Hopkins CSSE"),e?p.default.createElement(p.default.Fragment,null,p.default.createElement(v.Link,{to:"/"},p.default.createElement(h.Text,{style:[D.title,{color:"#fff",padding:10,width:"100%",backgroundColor:"#00429d",lineHeight:35}]},"Go Back Home")),p.default.createElement(v.Switch,null,p.default.createElement(v.Route,{path:"/country/:country"},p.default.createElement(g.default,null)),p.default.createElement(v.Route,{path:"/"},p.default.createElement(b.default,null)),p.default.createElement(v.Redirect,{to:"/"}))):p.default.createElement(h.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))))}}]),t}(p.Component),D=h.StyleSheet.create({container:{backgroundColor:"#222222",alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16}}),T=(0,y.subscribe)(S,w.default,(function(e){return{lastUpdated:e.lastUpdated}}));t.default=T},304:function(e,t,a){var r=a(62),n=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(160)),l=r(a(0)),c=a(82),i=a(152),u=a(88),s=a(89),d=n(a(96)),f=c.StyleSheet.create({container:{alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}}),m=(0,u.subscribe)((function(e){var t=(0,i.useParams)().country,a=(0,l.useState)(null),r=(0,o.default)(a,2),n=r[0],u=r[1],m=(0,l.useState)(null),p=(0,o.default)(m,2),h=p[0],v=p[1],y=(0,l.useState)(null),g=(0,o.default)(y,2),b=g[0],E=g[1],w=(0,l.useState)(null),x=(0,o.default)(w,2),k=x[0],C=x[1];return(0,l.useEffect)((function(){var e=d.default.getState(),a=e.countries,r=e.time.countries.find((function(e){return e.country===t})),n=a.find((function(e){return e.country===t}));if(n){C(n);var o=n.confirmed,l=n.recovered,c=n.deaths;u({labels:["Total","Recovered","Deaths"],datasets:[{label:t,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[o,l,c]}]})}else C(0);if(r){var i=r.locations[0].dates.map((function(e,t){var a=0,n=Object.keys(e)[0];return r.locations.forEach((function(e){a+=e.dates[t][n]})),{y:n,x:a}})),f=i.map((function(e){var t=new Date(e.y.replace(/-/g,"/")),a=t.getDate(),r=t.getMonth()+1;return"".concat((0,s.format)(a),".").concat((0,s.format)(r))})),m={labels:f,datasets:[{label:"Confirmed Cases",backgroundColor:"rgba(75,192,192,1)",borderWidth:2,data:i.map((function(e){return e.x}))}]};E(m);var p=i.map((function(e,t){return parseInt(e.x)-parseInt(i[t-1]&&i[t-1].x||0)})),h={labels:f.slice(1),datasets:[{label:"Daily Cases",backgroundColor:"#d45757",borderWidth:2,data:p.slice(1)}]};v(h)}else E(0)}),[t]),null===k?l.default.createElement(c.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}):l.default.createElement(c.View,{style:f.container},0===k?l.default.createElement(c.Text,{style:[f.title,f.text]},"No country by the name ",t," was found"):l.default.createElement(l.default.Fragment,null,l.default.createElement(s.Box,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},l.default.createElement(c.Text,{style:[f.title,f.text]},t),l.default.createElement(c.Text,{key:"Total cases: ".concat(k.confirmed),style:f.text},l.default.createElement(s.L,{t:"Total cases: "}),l.default.createElement(s.V,{t:(0,s.numberWithCommas)(k.confirmed)})),l.default.createElement(c.Text,{key:"Total deaths: ".concat(k.deaths),style:f.text},l.default.createElement(s.L,{t:"Total deaths: "}),l.default.createElement(s.V,{t:(0,s.numberWithCommas)(k.deaths)})),l.default.createElement(c.Text,{key:"Total recovered: ".concat(k.recovered),style:f.text},l.default.createElement(s.L,{t:"Total recovered: "}),l.default.createElement(s.V,{t:(0,s.numberWithCommas)(k.recovered)})),!!k.population&&l.default.createElement(c.Text,{key:"population: ".concat(k.population),style:f.text},l.default.createElement(s.L,{t:"Population: "}),l.default.createElement(s.V,{t:(0,s.numberWithCommas)(k.population)})),!!k.precentage&&l.default.createElement(c.Text,{key:"population: ".concat(k.precentage),style:f.text},l.default.createElement(s.L,{t:"Population infected: "}),l.default.createElement(s.V,{t:k.precentage+"%"})),l.default.createElement(c.Text,{key:"updated on: ".concat(e.lastUpdated.toDateString()),style:f.text},l.default.createElement(s.L,{t:"Updated on: "}),l.default.createElement(s.V,{t:e.lastUpdated.toDateString()}))),!!b&&l.default.createElement(c.View,{style:{width:"80%",marginBottom:20}},l.default.createElement(s.LineChart,{data:b,title:!0}),h&&l.default.createElement(s.LineChart,{data:h,title:!0}),l.default.createElement(s.BarChart,{data:n,colors:["#ff2222","#00ff00","#ccc"]}))))}),d.default,(function(e){return{lastUpdated:e.lastUpdated}}));t.default=m},396:function(e,t,a){var r=a(62),n=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),l=a(82),c=a(152),i=r(a(89)),u=n(a(96)),s=n(a(397)),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(u.default.setState({search:e}),e.length){var t=u.default.getState().countries.filter((function(t){return t.country.toLowerCase().includes(e.toLowerCase())}));u.default.setState({filteredCountries:t})}else u.default.setState({filteredCountries:u.default.getState().countries})},f=l.StyleSheet.create({container:{alignItems:"center",minHeight:"100%",width:"100%"},title:{color:"#fff",fontWeight:"bold",fontSize:16},text:{color:"#fff",marginBottom:5},country:{alignItems:"flex-start",justifyContent:"flex-start",width:"100%",marginBottom:10,borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1,backgroundColor:"darkcyan",borderRadius:3,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5}}),m=function(){var e=u.default.getState(),t=e.lastUpdated,a=e.lineChartData,r=e.allCases,n=e.allDeaths,m=e.allRecovered,p=e.filteredCountries,h=e.search,v=e.chartData;return o.default.createElement(l.View,{style:f.container},t?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Box,{style:{borderBottomColor:"#fff",borderBottomStyle:"solid",borderBottomWidth:1}},o.default.createElement(l.Text,{style:[f.title,f.text]},"Worldwide"),o.default.createElement(l.Text,{key:"Total cases: ".concat(r),style:f.text},o.default.createElement(i.L,{t:"Total cases: "}),o.default.createElement(i.V,{t:r})),o.default.createElement(l.Text,{key:"Total deaths: ".concat(n),style:f.text},o.default.createElement(i.L,{t:"Total deaths: "}),o.default.createElement(i.V,{t:n})),o.default.createElement(l.Text,{key:"Total recovered: ".concat(m),style:f.text},o.default.createElement(i.L,{t:"Total recovered: "}),o.default.createElement(i.V,{t:m})),o.default.createElement(l.Text,{key:"updated on: ".concat(t.toDateString()),style:f.text},o.default.createElement(i.L,{t:"Updated on: "}),o.default.createElement(i.V,{t:t.toDateString()}))),o.default.createElement(l.View,{style:{width:"80%",marginBottom:20,flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.default.createElement(i.default,{data:v}),o.default.createElement(i.LineChart,{data:a,legend:!0})),o.default.createElement(s.default,null),o.default.createElement(l.TextInput,{style:{height:40,borderColor:"gray",borderWidth:1,backgroundColor:"#ccc",width:"80%",borderRadius:3,paddingLeft:8,paddingRight:8},placeholder:"Type Country Name Here...",onChangeText:d,value:h||""}),o.default.createElement(i.Box,null,p.length<1?o.default.createElement(l.Text,{style:[f.title,f.text]},"No counteries were found.. try another search term"):p.map((function(e,t){var a=e.country,r=e.confirmed,n=e.deaths,u=e.recovered,s=e.population,d=e.precentage;return o.default.createElement(c.Link,{to:"country/".concat(a),key:t},o.default.createElement(l.View,{style:f.country},o.default.createElement(l.View,null,o.default.createElement(l.Text,{style:[f.title,f.text]},a),o.default.createElement(l.Text,{style:f.text},o.default.createElement(i.L,{t:"Cases:"})," ",o.default.createElement(i.V,{t:(0,i.numberWithCommas)(r)})),o.default.createElement(l.Text,{style:f.text},o.default.createElement(i.L,{t:"Deaths: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(n)})),o.default.createElement(l.Text,{style:f.text},o.default.createElement(i.L,{t:"Recovered: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(u)})),!!s&&o.default.createElement(l.Text,{style:f.text},o.default.createElement(i.L,{t:"Population: "}),o.default.createElement(i.V,{t:(0,i.numberWithCommas)(s)})),!!d&&o.default.createElement(l.Text,{style:f.text},o.default.createElement(i.L,{t:"Population infected: "}),o.default.createElement(i.V,{t:d+"%"}))),o.default.createElement(l.Text,{style:[{alignSelf:"flex-end",color:"#fff",padding:10,width:"100%",backgroundColor:"#00429d",lineHeight:35,borderRadius:3,textAlign:"center",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5}]},"See country stats")))})))):o.default.createElement(l.ActivityIndicator,{size:"large",style:{marginTop:40,alignSelf:"center"}}))};t.default=m},397:function(e,t,a){var r=a(62),n=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(113)),l=n(a(114)),c=n(a(162)),i=n(a(164)),u=n(a(163)),s=n(a(165)),d=n(a(87)),f=r(a(0)),m=a(82),p=a(398),h=a(3),v=a(612),y=a(88),g=n(a(96)),b=a(89);var E="#f00c32",w=function(e){function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=(0,c.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(n))),(0,d.default)((0,u.default)(a),"state",{lat:51.165690999999995,lng:10.451526,zoom:3}),(0,d.default)((0,u.default)(a),"mapRef",f.default.createRef()),(0,d.default)((0,u.default)(a),"handleZoom",(function(){var e=a.mapRef&&a.mapRef.current.leafletElement.getZoom();e&&a.setState({zoom:e})})),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return console.log("--\xaf_(\u30c4)_/\xaf-----------this.state.zoom----------",this.state.zoom),f.default.createElement(m.View,{style:{width:"90%",position:"relative",marginBottom:20,marginTop:20}},f.default.createElement(v.Map,{minZoom:2,ref:this.mapRef,onzoomend:this.handleZoom,center:[this.state.lat,this.state.lng],zoom:this.state.zoom,style:{width:"100%",position:"relative",height:590}},f.default.createElement(v.TileLayer,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),!!this.props.countries&&this.props.countries.map((function(t){var a,r=t.country,n=t.confirmed,o=t.deaths,l=t.recovered,c=t.population,i=t.locations;i.length>1?(a=i.find((function(e){return""===e.state})))||(a=function(e){if(1===e.length)return e[0];var t=0,a=0,r=0,n=!0,o=!1,l=void 0;try{for(var c,i=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]();!(n=(c=i.next()).done);n=!0){var u=c.value,s=u.lat*Math.PI/180,d=u.lon*Math.PI/180;t+=Math.cos(s)*Math.cos(d),a+=Math.cos(s)*Math.sin(d),r+=Math.sin(s)}}catch(h){o=!0,l=h}finally{try{n||null==i.return||i.return()}finally{if(o)throw l}}var f=e.length;t/=f,a/=f,r/=f;var m=Math.atan2(a,t),p=Math.sqrt(t*t+a*a);return{lat:180*Math.atan2(r,p)/Math.PI,lon:180*m/Math.PI}}(i)):a=i[0];var u=[a.lat,a.lon],s=(n/100/2/10*(2*e.state.zoom)).toFixed(2);s=s>40?s:40;var d=(l/n*100).toFixed(2),m=(o/n*100).toFixed(2);s=e.state.zoom<5?s<1058?s:1058:s<1558?s:1558;var y={backgroundColor:E,color:E,width:"".concat(s,"%"),height:"".concat(s,"%"),borderRadius:100,textAlign:"center",marginLeft:"-".concat(s/2,"%"),marginTop:"-".concat(s/2,"%"),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},g={zIndex:600,backgroundColor:"#08cf47",color:"#08cf47",width:"".concat(d,"%"),height:"".concat(d,"%"),borderRadius:100,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},w={zIndex:601,position:"absolute",backgroundColor:"#30242d",color:"#30242d",display:"flex",width:"".concat(m,"%"),height:"".concat(m,"%"),borderRadius:100,margin:"0 auto"},x=(0,p.renderToStaticMarkup)(f.default.createElement("div",{style:y},f.default.createElement("div",{style:g}),f.default.createElement("div",{style:w}))),k=(0,h.divIcon)({html:x});return f.default.createElement(v.Marker,{position:u,key:r,icon:k},f.default.createElement(v.Popup,null,f.default.createElement("span",null,f.default.createElement("b",null,r)),f.default.createElement("br",null),f.default.createElement("span",null,f.default.createElement("span",{style:{backgroundColor:E,marginTop:-5,width:5,height:5,borderRadius:100,display:"inline-block"}}," ")," ","Cases: ",(0,b.numberWithCommas)(n)),f.default.createElement("br",null),f.default.createElement("span",null,f.default.createElement("span",{style:{backgroundColor:"#08cf47",marginTop:-5,width:5,height:5,borderRadius:100,display:"inline-block"}}," "),"Recovered: ",(0,b.numberWithCommas)(l)),f.default.createElement("br",null),f.default.createElement("span",null,f.default.createElement("span",{style:{backgroundColor:"#30242d",marginTop:-5,width:5,height:5,borderRadius:100,display:"inline-block"}}," "),"Deaths: ",(0,b.numberWithCommas)(o)),f.default.createElement("br",null),c&&f.default.createElement("span",null,"Population: ",(0,b.numberWithCommas)(c))))}))))}}]),t}(f.Component),x=(0,y.subscribe)(w,g.default,(function(e){return{countries:e.countries}}));t.default=x},401:function(e,t,a){var r=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.d=void 0;var n=r(a(87)),o=r(a(159)),l=r(a(161)),c=r(a(113)),i=r(a(114)),u=a(168),s=a(402),d=a(610),f={};t.d=f;var m=function(){function e(){(0,c.default)(this,e)}return(0,i.default)(e,[{key:"getData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0==t){e.next=8;break}return t=u(t,"MM-DD-YYYY").format("MM-DD-YYYY"),e.next=5,this.fetchData(t);case 5:a=e.sent,e.next=12;break;case 8:return t=u().format("MM-DD-YYYY"),e.next=11,this.fetchData(t);case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeSeriesData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},r=u().format("MM-DD-YYYY"),t=t.toLowerCase(),!(void 0===(a=f[t])||a&&a.lastUpdated!==r)){e.next=8;break}return e.next=7,this.addRemoteTimesSeries(t);case 7:a=f[t];case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},a=f[t];case 2:if(!(void 0===a&&u(t,"MM-DD-YYYY")>=u("01-22-2020","MM-DD-YYYY"))){e.next=15;break}return e.next=5,this.addRemoteDailyReports(t);case 5:if(void 0!=(a=f[t])){e.next=13;break}if(t=u(t,"MM-DD-YYYY").subtract(1,"days").format("MM-DD-YYYY"),void 0!==(a=f[t])){e.next=13;break}return e.next=12,this.addRemoteDailyReports(t);case 12:a=f[t];case 13:e.next=2;break;case 15:return void 0===a&&(a={error:"Data not found. Plase try again."}),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteDailyReports",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv"))).subscribe(function(){var e=(0,l.default)(o.default.mark((function e(r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var o={};o=u(t,"MM-DD-YYYY")<=u("03-22-2020","MM-DD-YYYY")?{country:r["Country/Region"]||"",state:r["Province/State"]||"",lat:r.Latitude||"0.0",lon:r.Longitude||"0.0",lastUpdate:r["Last Update"]||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0}:{country:r.Country_Region||"",state:r.Province_State||"",lat:r.Lat||"0.0",lon:r.Long_||"0.0",lastUpdate:r.Last_Update||"",confirmed:parseInt(r.Confirmed)||0,deaths:parseInt(r.Deaths)||0,recovered:parseInt(r.Recovered)||0},a.push(o),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,l.default)(o.default.mark((function e(n){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,r.groupBy("country",a,t);case 3:l=e.sent,delete f[t],f[t]=l;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupBy",value:function(){var e=(0,l.default)(o.default.mark((function e(t,a,r){var n,l,c,i,u,s,d,f,m,p,h,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,i=0,u=0,s=0,d=0,f=0,(n={}).countries=l=[],m=0;case 10:if(!(m<a.length)){e.next=37;break}p=!1,c=0,i=0,u=0,s+=parseInt(a[m].confirmed),d+=parseInt(a[m].recovered),f+=parseInt(a[m].deaths),h=0;case 19:if(!(h<l.length)){e.next=33;break}if(l[h][t]!=a[m][t]){e.next=30;break}return c+=parseInt(a[m].confirmed),l[h].confirmed=c+parseInt(l[h].confirmed),i+=parseInt(a[m].recovered),l[h].recovered=i+parseInt(l[h].recovered),u+=parseInt(a[m].deaths),l[h].deaths=u+parseInt(l[h].deaths),l[h].locations.push(a[m]),p=!0,e.abrupt("break",33);case 30:h++,e.next=19;break;case 33:p||(c=0,i=0,u=0,v={locations:[]},c+=parseInt(a[m].confirmed),v.confirmed=c,i+=parseInt(a[m].recovered),v.recovered=i,u+=parseInt(a[m].deaths),v.deaths=u,v[t]=a[m][t],v.lat=a[m].lat,v.lon=a[m].lon,v.locations.push(a[m]),l.push(v));case 34:m++,e.next=10;break;case 37:return n.date=r,n.confirmed=s,n.recovered=d,n.deaths=f,e.abrupt("return",n);case 42:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"addRemoteTimesSeries",value:function(){var e=(0,l.default)(o.default.mark((function e(t){var a,r,c,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=u("2020-03-11"),c=u(),e.next=5,d().fromStream(s.get("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_".concat(t,"_global.csv"))).subscribe(function(){var e=(0,l.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){for(var l={country:t["Country/Region"]||"",state:t["Province/State"]||"",lat:t.Lat||"0.0",lon:t.Long||"0.0"},i=[],s=u(r);s.diff(c,"days")<=0;s.add(1,"days")){var d=s.format("M/D/YY");if(void 0!=t[d]){var f=parseInt(t[d])||0,m=(0,n.default)({},s.format("MM-DD-YYYY"),f);i.push(m)}}if(i.length>0){var p=i[i.length-1];l.total=Object.values(p)[0]}l.dates=i,a.push(l),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=(0,l.default)(o.default.mark((function e(r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=6;break}return e.next=3,i.groupByTimesSeries("country",a);case 3:a=e.sent,delete f[t],f[t]=a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"groupByTimesSeries",value:function(){var e=(0,l.default)(o.default.mark((function e(t,a){var r,n,l,c,i,s,d,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,(r={}).countries=n=[],c=0;case 5:if(!(c<a.length)){e.next=24;break}i=0,s=!1,d=0;case 9:if(!(d<n.length)){e.next=18;break}if(n[d][t]!=a[c][t]){e.next=15;break}return i+=parseInt(a[c].total)||0,n[d].locations.push(a[c]),s=!0,e.abrupt("break",18);case 15:d++,e.next=9;break;case 18:s||((f={locations:[]})[t]=a[c][t],f.lat=a[c].lat,f.lon=a[c].lon,i+=parseInt(a[c].total)||0,f.locations.push(a[c]),n.push(f)),n[d].total=i,l+=i;case 21:c++,e.next=5;break;case 24:return r.lastUpdated=u().format("MM-DD-YYYY"),r.total=l,e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();e.exports=m},417:function(e,t){},419:function(e,t){},449:function(e,t){},450:function(e,t){},494:function(e,t){},496:function(e,t){},519:function(e,t){},611:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){if(new URL("/corona",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/corona","/service-worker.js");r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):n(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):n(t,e)}))}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}},89:function(e,t,a){var r=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithCommas=f,t.default=t.PieChart=t.BarChart=t.LineChart=t.V=t.L=t.Box=t.colors=t.format=void 0;var n=r(a(87)),o=r(a(0)),l=a(82),c=a(305);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.format=function(e){return e<10?"0".concat(e):e};var s=["#ff0029","#377eb8","#7f80cd","#66a61e","#984ea3","#00d2d5","#ff7f00","#af8d00","#b3e900","#fec254","#ccebc5","#a63603","#016c59","#e7298a","#c994c7","#dfdf00","#df00df","#80ff80"];t.colors=s;var d={type:"logarithmic",ticks:{min:.1,max:1e3,callback:function(e,t,a){return Number(e.toString())}},afterBuildTicks:function(e){e.ticks=[],e.ticks.push(.1),e.ticks.push(1),e.ticks.push(10),e.ticks.push(100),e.ticks.push(1e3)}};t.Box=function(e){var t=e.children,a=e.style;return o.default.createElement(l.View,{style:[{margin:10,padding:10,width:"80%"},a]},t)};t.L=function(e){var t=e.t;return o.default.createElement(l.Text,{style:{color:"#ddd"}},t)};function f(e,t){var a=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(t&&e>999){var r="";return e<2e3&&a.length>4&&"000"!==a.slice(-3)&&(r=".".concat(a.slice(-3)[0])),"".concat(a.slice(0,a.length-4)).concat(r,"K")}return a}t.V=function(e){var t=e.t;return o.default.createElement(l.Text,{style:{color:"#fff"}},t)};t.LineChart=function(e){var t=e.data,a=e.legend,r=e.title,n=e.logarithmic,i={title:{display:n||!!r,text:n?"Logarithmic chart":t.datasets[0].label,fontSize:20},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return f(e,!0)}}}]},legend:{display:!!a,position:"bottom",labels:{fontColor:"white",boxWidth:20,padding:20}}};return o.default.createElement(l.View,{style:{marginTop:20,height:450,width:"100%",position:"relative"}},o.default.createElement(c.Line,{data:t,options:n?u({},d,{},i):i}))};var m=function(e){var t=e.data,a=e.colors;return t.datasets[0].backgroundColor=a||s,t.datasets[0].hoverBackgroundColor=a||s,o.default.createElement(l.View,{style:{marginTop:20,height:"40vh",width:"100%",position:"relative"}},o.default.createElement(c.Bar,{data:t,options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return f(e,!0)}}}]},title:{display:!1,fontSize:20},legend:{display:!1,position:"right"}}}))};t.BarChart=m;t.PieChart=function(e){var t=e.data;return t.datasets[0].backgroundColor=s,t.datasets[0].hoverBackgroundColor=s,o.default.createElement(l.View,{style:{width:"100%"}},o.default.createElement(c.Pie,{data:t,options:{title:{display:!1,text:t.datasets[0].label,fontSize:16},legend:{display:!1}}}))};var p=function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement(m,e))};t.default=p},96:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(88).createState)({lastUpdated:null,search:""});t.default=r}},[[275,1,2]]]);
//# sourceMappingURL=main.e896a5c8.chunk.js.map