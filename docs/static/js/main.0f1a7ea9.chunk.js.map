{"version":3,"sources":["Chart.js","index.js","App.js","Country.js","Home.js","Map.js","DropDown.js","jsu.js","serviceWorker.js","utils.js","state.js"],"names":["logarithmicConfig","type","ticks","min","max","callback","value","index","values","Number","toString","afterBuildTicks","chartObj","push","data","legend","title","logarithmic","options","display","text","datasets","label","fontSize","responsive","maintainAspectRatio","scales","yAxes","beginAtZero","numberWithCommas","position","labels","fontColor","boxWidth","padding","View","style","marginTop","height","width","Line","BarChart","c","colors","backgroundColor","hoverBackgroundColor","Bar","Pie","props","ReactDOM","render","document","getElementById","serviceWorker","unregister","covid19","require","getLineChartData","timeCountries","lineChartData","forEach","countryTimeData","sets","locations","dates","map","i","total","time","Object","keys","location","y","x","length","d","Date","replace","day","getDate","month","getMonth","format","country","borderColor","fill","borderWidth","App","Promise","all","getData","getTimeSeriesData","fetch","then","j","json","console","log","countryNamesExceptions","US","Iran","Russia","Czechia","Egypt","Slovakia","Kyrgyzstan","Venezuela","Brunei","Gambia","countries","newCountry","active","confirmed","recovered","deaths","countryPopulations","records","filter","countryName","fields","country_name","toLowerCase","countryPopulation","sort","a","b","year","population","perc","toFixed","precentage","aTotal","bTotal","l","slice","chartData","generateBarData","state","setState","lastUpdated","date","allCases","allDeaths","allRecovered","filteredCountries","this","basename","ScrollView","contentContainerStyle","styles","container","Text","accessibilityRole","target","href","color","textAlign","Switch","Route","path","Redirect","to","ActivityIndicator","size","alignSelf","Component","StyleSheet","create","alignItems","minHeight","fontWeight","subscribe","redColors","Array","marginBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","button","borderRadius","marginVertical","buttonText","useParams","useState","barData","setBarData","dailyInfections","setDailyInfections","timeData","setTimeData","setCountryData","useEffect","getState","find","countryData","daily","parseInt","dailyInfectionsData","Link","lineHeight","Box","key","L","t","V","toDateString","LineChart","updateSearch","search","currentState","includes","sortBy","sortCountries","setNewChartData","chartList","property","justifyContent","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","flexDirection","onSelect","TextInput","paddingLeft","paddingRight","placeholder","onChangeText","RED","Mapx","lat","lng","zoom","React","createRef","mapRef","current","leafletElement","getZoom","Map","minZoom","ref","onzoomend","handleZoom","center","TileLayer","attribution","url","cords","coords","z","coord","Math","PI","lon","cos","sin","centrallon","atan2","centralSquareRoot","sqrt","averageGeolocation","point","confirmedWidth","recoveredWidth","deathsWidth","outerCircle","marginLeft","recoveredCircle","zIndex","margin","deathCircle","iconMarkup","renderToStaticMarkup","customMarkerIcon","divIcon","html","Marker","icon","Popup","className","onChange","e","currentTarget","moment","request","csv","Covid19","undefined","fetchData","addRemoteTimesSeries","addRemoteDailyReports","subtract","error","fromStream","get","resolve","reject","obj","lastUpdate","groupBy","array","totalConfirmed","totalRecovered","totalDeaths","allConfirmed","result","added","entry","m","diff","add","dateObj","lastDate","groupByTimesSeries","grandTotal","root","module","exports","config","navigator","URL","process","window","origin","addEventListener","swUrl","isLocalhost","headers","response","contentType","status","indexOf","ready","registration","reload","registerValidSW","catch","checkValidServiceWorker","message","Boolean","hostname","match","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","shouldRound","s","decimal","Cases","Recovered","Deaths","top10","children","createState"],"mappings":"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","file":"static/js/main.0f1a7ea9.chunk.js","sourcesContent":["import React from 'react';\nimport {View} from 'react-native';\nimport {Bar, Line, Pie} from 'react-chartjs-2';\nimport {numberWithCommas, colors} from './utils';\n\nconst logarithmicConfig = {\n  type: 'logarithmic',\n  ticks: {\n    min: 0.1, //minimum tick\n    max: 1000, //maximum tick\n    callback: function (value, index, values) {\n      return Number(value.toString()); //pass tick values as a string into Number function\n    },\n  },\n  afterBuildTicks: function (chartObj) {\n    //Build ticks labelling as per your need\n    chartObj.ticks = [];\n    chartObj.ticks.push(0.1);\n    chartObj.ticks.push(1);\n    chartObj.ticks.push(10);\n    chartObj.ticks.push(100);\n    chartObj.ticks.push(1000);\n  },\n};\nexport const LineChart = ({data, legend, title, logarithmic}) => {\n  const options = {\n    title: {\n      display: logarithmic || !!title,\n      text: logarithmic ? 'Logarithmic chart' : data.datasets[0].label,\n      fontSize: 20,\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n            callback: function (value, index, values) {\n              return numberWithCommas(value, true);\n            },\n          },\n        },\n      ],\n    },\n    legend: {\n      display: !!legend,\n      position: 'bottom',\n      labels: {\n        fontColor: 'white',\n        boxWidth: 20,\n        padding: 20,\n      },\n    },\n  };\n  return (\n    <View\n      style={{marginTop: 20, height: 450, width: '100%', position: 'relative'}}>\n      <Line\n        data={data}\n        options={logarithmic ? {...logarithmicConfig, ...options} : options}\n      />\n    </View>\n  );\n};\nexport const BarChart = ({data, colors: c, title}) => {\n  data.datasets[0].backgroundColor = c || colors;\n  data.datasets[0].hoverBackgroundColor = c || colors;\n  return (\n    <View\n      style={{\n        marginTop: 20,\n        height: '40vh',\n        width: '100%',\n        position: 'relative',\n      }}>\n      <Bar\n        data={data}\n        options={{\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  callback: function (value, index, values) {\n                    return numberWithCommas(value, true);\n                  },\n                },\n              },\n            ],\n          },\n          title: {\n            display: !!title,\n            text: data.datasets[0].label,\n            fontSize: 20,\n          },\n          legend: {\n            display: false,\n            position: 'right',\n          },\n        }}\n      />\n    </View>\n  );\n};\n\nexport const PieChart = ({data}) => {\n  data.datasets[0].backgroundColor = colors;\n  data.datasets[0].hoverBackgroundColor = colors;\n  return (\n    <View style={{width: '100%'}}>\n      <Pie\n        data={data}\n        options={{\n          title: {\n            display: false,\n            text: data.datasets[0].label,\n            fontSize: 16,\n          },\n          legend: {\n            display: false,\n          },\n          // legend: {\n          //   display: true,\n          //   position: 'right',\n          // },\n        }}\n      />\n      {/*\n      <Doughnut\n        data={data}\n        options={{\n          title: {\n            display: true,\n            text: 'Corona cases per country',\n            fontSize: 20,\n          },\n          legend: {\n            display: true,\n            position: 'right',\n          },\n        }}\n      /> */}\n    </View>\n  );\n};\nconst Chart = (props) => {\n  return (\n    <>\n      <BarChart {...props} />\n      {/* <PieChart {...props} /> */}\n    </>\n  );\n};\nexport default Chart;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, {Component} from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  ActivityIndicator,\n  ScrollView,\n} from 'react-native';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport {subscribe} from 'jstates-react';\nimport Country from './Country';\nimport Home from './Home';\nimport {generateBarData, numberWithCommas, colors, format} from './utils';\nimport state from './state';\n\nconst Covid19 = require('./jsu');\nconst covid19 = new Covid19();\n\nconst getLineChartData = (timeCountries) => {\n  const lineChartData = {\n    labels: [],\n    datasets: [],\n  };\n\n  timeCountries.forEach((countryTimeData, index) => {\n    const sets = countryTimeData.locations[0].dates.map((i, index) => {\n      let total = 0;\n      const time = Object.keys(i)[0];\n      countryTimeData.locations.forEach((location) => {\n        total += location.dates[index][time];\n      });\n      return {y: time, x: total};\n    });\n    if (lineChartData.labels.length < 1) {\n      lineChartData.labels = sets.map((i) => {\n        const d = new Date(i.y.replace(/-/g, '/'));\n        const day = d.getDate();\n        const month = d.getMonth() + 1;\n\n        return `${format(day)}.${format(month)}`;\n      });\n    }\n    lineChartData.datasets.push({\n      label: countryTimeData.country,\n      borderColor: colors[index],\n      fill: false,\n      borderWidth: 1,\n      data: sets.map((i) => i.x),\n    });\n  });\n\n  return lineChartData;\n};\n\nclass App extends Component {\n  async componentDidMount() {\n    const [d, time, j] = await Promise.all([\n      covid19.getData(),\n      covid19.getTimeSeriesData('confirmed'),\n      fetch(\n        'https://data.opendatasoft.com/api/records/1.0/search/?dataset=world-population%40kapsarc&rows=10000&sort=year&facet=year&facet=country_name',\n      ).then((j) => j.json()),\n    ]);\n    console.log('--¯_(ツ)_/¯-----------d----------', d);\n    console.log('--¯_(ツ)_/¯-----------time----------', time);\n    console.log('--¯_(ツ)_/¯-----------j----------', j);\n    const countryNamesExceptions = {\n      US: 'United States',\n      Iran: 'Iran, Islamic Rep.',\n      Russia: 'Russian Federation',\n      'Korea, South': 'Korea, Rep.',\n      Czechia: 'Czech Republic',\n      Egypt: 'Egypt, Arab Rep.',\n      Slovakia: 'Slovak Republic',\n      Kyrgyzstan: 'Kyrgyz Republic',\n      Venezuela: 'Venezuela, RB',\n      Brunei: 'Brunei Darussalam',\n      Gambia: 'Gambia, The',\n    };\n    const countries = d.countries.map((country) => {\n      const newCountry = {\n        ...country,\n        active: country.confirmed - (country.recovered + country.deaths),\n      };\n      const countryPopulations = j.records.filter((i) => {\n        const countryName = i.fields.country_name;\n        return (\n          countryName.toLowerCase() === country.country.toLowerCase() ||\n          countryName === countryNamesExceptions[country.country]\n        );\n      });\n\n      if (!countryPopulations.length) {\n        return newCountry;\n      }\n      const countryPopulation = countryPopulations.sort(\n        (a, b) => b.fields.year - a.fields.year,\n      )[0];\n      if (!countryPopulation || !countryPopulation.fields.value) {\n        return newCountry;\n      }\n      newCountry.population = countryPopulation.fields.value;\n      const perc = (\n        (country.confirmed / countryPopulation.fields.value) *\n        100\n      ).toFixed(2);\n      if (perc + '' !== '0.00') {\n        newCountry.precentage = perc;\n      }\n      return newCountry;\n    });\n\n    const timeCountries = time.countries\n      .sort((a, b) => {\n        let aTotal = 0;\n        let bTotal = 0;\n        a.locations.forEach((l) => {\n          aTotal += l.total;\n        });\n        b.locations.forEach((l) => {\n          bTotal += l.total;\n        });\n\n        return bTotal - aTotal;\n      })\n      .slice(0, 10);\n    const chartData = generateBarData(countries);\n    const lineChartData = getLineChartData(timeCountries);\n\n    state.setState({\n      lastUpdated: new Date(d.date.replace(/-/g, '/')),\n      allCases: numberWithCommas(d.confirmed),\n      allDeaths: numberWithCommas(d.deaths),\n      allRecovered: numberWithCommas(d.recovered),\n      countries,\n      filteredCountries: countries,\n      chartData,\n      time,\n      lineChartData,\n    });\n  }\n\n  render() {\n    const {lastUpdated} = this.props;\n\n    return (\n      <Router basename=\"/corona\">\n        <ScrollView contentContainerStyle={styles.container}>\n          <View style={styles.container}>\n            <Text\n              accessibilityRole=\"link\"\n              target=\"_blank\"\n              href=\"https://github.com/CSSEGISandData/COVID-19\"\n              style={[\n                styles.title,\n                {\n                  color: '#aaa',\n                  padding: 10,\n                  width: '100%',\n                  textAlign: 'center',\n                },\n              ]}>\n              COVID-19 data provided by Johns Hopkins CSSE\n            </Text>\n            {!lastUpdated ? (\n              <ActivityIndicator\n                size=\"large\"\n                style={{\n                  marginTop: 40,\n                  alignSelf: 'center',\n                }}\n              />\n            ) : (\n              <Switch>\n                <Route path=\"/country/:country\">\n                  <Country />\n                </Route>\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            )}\n          </View>\n        </ScrollView>\n      </Router>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#222222',\n    alignItems: 'center',\n    minHeight: '100%',\n    width: '100%',\n  },\n  title: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n});\n\nexport default subscribe(App, state, (state) => ({\n  lastUpdated: state.lastUpdated,\n}));\n","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, ActivityIndicator} from 'react-native';\nimport {useParams, Link} from 'react-router-dom';\nimport {subscribe} from 'jstates-react';\nimport {LineChart, BarChart} from './Chart';\nimport {format, numberWithCommas, Box, L, V} from './utils';\nimport state from './state';\n\nconst redColors = new Array(1000).fill('#f00c32');\n\nconst Country = (props) => {\n  let {country} = useParams();\n  const [barData, setBarData] = useState(null);\n  const [dailyInfections, setDailyInfections] = useState(null);\n  const [timeData, setTimeData] = useState(null);\n  const [data, setCountryData] = useState(null);\n\n  useEffect(() => {\n    const {countries, time} = state.getState();\n    const countryTimeData = time.countries.find((i) => i.country === country);\n    const countryData = countries.find((i) => i.country === country);\n    if (!countryData) {\n      setCountryData(0);\n    } else {\n      setCountryData(countryData);\n      const {confirmed, recovered, deaths} = countryData;\n      const barChartData = {\n        labels: ['Total', 'Recovered', 'Deaths'],\n        datasets: [\n          {\n            label: country,\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: [confirmed, recovered, deaths],\n          },\n        ],\n      };\n      setBarData(barChartData);\n    }\n    if (!countryTimeData) {\n      setTimeData(0);\n    } else {\n      const sets = countryTimeData.locations[0].dates.map((i, index) => {\n        let total = 0;\n        const time = Object.keys(i)[0];\n        countryTimeData.locations.forEach((location) => {\n          total += location.dates[index][time];\n        });\n        return {y: time, x: total};\n      });\n      const labels = sets.map((i) => {\n        const d = new Date(i.y.replace(/-/g, '/'));\n        const day = d.getDate();\n        const month = d.getMonth() + 1;\n\n        return `${format(day)}.${format(month)}`;\n      });\n      const lineChartData = {\n        labels,\n        datasets: [\n          {\n            label: 'Confirmed Cases',\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderWidth: 2,\n            data: sets.map((i) => i.x),\n          },\n        ],\n      };\n      setTimeData(lineChartData);\n      const daily = sets.map(\n        (i, index) =>\n          parseInt(i.x) - parseInt((sets[index - 1] && sets[index - 1].x) || 0),\n      );\n      const dailyInfectionsData = {\n        labels: labels.slice(1),\n        datasets: [\n          {\n            label: 'Daily Cases',\n            backgroundColor: '#d45757',\n            borderWidth: 2,\n            data: daily.slice(1),\n          },\n        ],\n      };\n      setDailyInfections(dailyInfectionsData);\n    }\n  }, [country]);\n\n  if (data === null) {\n    return (\n      <ActivityIndicator\n        size=\"large\"\n        style={{\n          marginTop: 40,\n          alignSelf: 'center',\n        }}\n      />\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Link to=\"/\">\n        <Text\n          style={[\n            styles.button,\n            styles.buttonText,\n            {\n              padding: 10,\n              width: '100%',\n              lineHeight: 35,\n            },\n          ]}>\n          Go to main page\n        </Text>\n      </Link>\n      {data === 0 ? (\n        <Text style={[styles.title, styles.text]}>\n          No country by the name {country} was found\n        </Text>\n      ) : (\n        <>\n          <Box\n            style={{\n              borderBottomColor: '#fff',\n              borderBottomStyle: 'solid',\n              borderBottomWidth: 1,\n            }}>\n            <Text style={[styles.title, styles.text]}>{country}</Text>\n            <Text key={`Total cases: ${data.confirmed}`} style={styles.text}>\n              <L t=\"Total cases: \" />\n              <V t={numberWithCommas(data.confirmed)} />\n            </Text>\n            <Text key={`Total active: ${data.active}`} style={styles.text}>\n              <L t=\"Total active: \" />\n              <V t={numberWithCommas(data.active)} />\n            </Text>\n            <Text key={`Total deaths: ${data.deaths}`} style={styles.text}>\n              <L t=\"Total deaths: \" />\n              <V t={numberWithCommas(data.deaths)} />\n            </Text>\n            <Text\n              key={`Total recovered: ${data.recovered}`}\n              style={styles.text}>\n              <L t=\"Total recovered: \" />\n              <V t={numberWithCommas(data.recovered)} />\n            </Text>\n            {!!data.population && (\n              <Text key={`population: ${data.population}`} style={styles.text}>\n                <L t=\"Population: \" />\n                <V t={numberWithCommas(data.population)} />\n              </Text>\n            )}\n            {!!data.precentage && (\n              <Text key={`population: ${data.precentage}`} style={styles.text}>\n                <L t=\"Population infected: \" />\n                <V t={data.precentage + '%'} />\n              </Text>\n            )}\n            <Text\n              key={`updated on: ${props.lastUpdated.toDateString()}`}\n              style={styles.text}>\n              <L t=\"Updated on: \" />\n              <V t={props.lastUpdated.toDateString()} />\n            </Text>\n          </Box>\n          {!!timeData && (\n            <View style={{width: '80%', marginBottom: 20}}>\n              <LineChart data={timeData} title />\n              {dailyInfections && (\n                <BarChart data={dailyInfections} colors={redColors} title />\n              )}\n              <BarChart\n                data={barData}\n                colors={['#ff2222', '#00ff00', '#ccc']}\n              />\n            </View>\n          )}\n        </>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    minHeight: '100%',\n    width: '100%',\n    backgroundColor: '#222222',\n  },\n  title: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  text: {\n    color: '#fff',\n    marginBottom: 5,\n  },\n  country: {\n    width: '100%',\n    marginBottom: 10,\n    borderBottomColor: '#fff',\n    borderBottomStyle: 'solid',\n    borderBottomWidth: 1,\n  },\n  button: {\n    borderRadius: 3,\n    padding: 20,\n    marginVertical: 10,\n    marginTop: 10,\n    backgroundColor: '#1B95E0',\n  },\n  buttonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n});\n\nexport default subscribe(Country, state, (state) => ({\n  lastUpdated: state.lastUpdated,\n}));\n","import React from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  ActivityIndicator,\n  TextInput,\n} from 'react-native';\nimport {subscribe} from 'jstates-react';\nimport {Link} from 'react-router-dom';\nimport Chart, {LineChart} from './Chart';\nimport state from './state';\nimport Map from './Map';\nimport DropDown from './DropDown';\nimport {chartList, generateBarData, numberWithCommas, Box, L, V} from './utils';\n\nconst updateSearch = (search = '') => {\n  state.setState({search});\n  const currentState = state.getState();\n  if (search.length) {\n    let filteredCountries = currentState.countries.filter((i) =>\n      i.country.toLowerCase().includes(search.toLowerCase()),\n    );\n\n    state.setState({filteredCountries}, () => {\n      if (currentState.sortBy) {\n        sortCountries(currentState.sortBy);\n      }\n    });\n  } else {\n    state.setState({filteredCountries: currentState.countries});\n  }\n};\n\nconst setNewChartData = (sort = 'confirmed') => {\n  const chartData = generateBarData(\n    state.getState().countries,\n    chartList[sort],\n  );\n\n  state.setState({chartData});\n};\n\nconst sortCountries = (value) => {\n  let property = chartList[value];\n  const filteredCountries = state\n    .getState()\n    .filteredCountries.slice()\n    .sort((a, b) => b[property] - a[property]);\n  state.setState({filteredCountries, sortBy: value});\n};\n\nconst Home = () => {\n  const {\n    lastUpdated,\n    lineChartData,\n    allCases,\n    allDeaths,\n    allRecovered,\n    filteredCountries,\n    search,\n    chartData,\n  } = state.getState();\n\n  return (\n    <View style={styles.container}>\n      {!lastUpdated ? (\n        <ActivityIndicator\n          size=\"large\"\n          style={{\n            marginTop: 40,\n            alignSelf: 'center',\n          }}\n        />\n      ) : (\n        <>\n          <Map />\n          <Box\n            style={{\n              borderBottomColor: '#fff',\n              borderBottomStyle: 'solid',\n              borderBottomWidth: 1,\n            }}>\n            <Text style={[styles.title, styles.text]}>Worldwide</Text>\n            <Text key={`Total cases: ${allCases}`} style={styles.text}>\n              <L t=\"Total cases: \" />\n              <V t={allCases} />\n            </Text>\n            <Text key={`Total deaths: ${allDeaths}`} style={styles.text}>\n              <L t=\"Total deaths: \" />\n              <V t={allDeaths} />\n            </Text>\n            <Text key={`Total recovered: ${allRecovered}`} style={styles.text}>\n              <L t=\"Total recovered: \" />\n              <V t={allRecovered} />\n            </Text>\n            <Text\n              key={`updated on: ${lastUpdated.toDateString()}`}\n              style={styles.text}>\n              <L t=\"Updated on: \" />\n              <V t={lastUpdated.toDateString()} />\n            </Text>\n          </Box>\n          <View\n            style={{\n              width: '80%',\n              marginBottom: 20,\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}>\n            <DropDown\n              options={chartList}\n              onSelect={setNewChartData}\n              label=\"Select chart data\"\n            />\n            <Chart data={chartData} />\n            <LineChart data={lineChartData} legend />\n          </View>\n          <TextInput\n            style={{\n              height: 40,\n              borderColor: 'gray',\n              borderWidth: 1,\n              backgroundColor: '#ccc',\n              width: '80%',\n              borderRadius: 3,\n              paddingLeft: 8,\n              paddingRight: 8,\n            }}\n            placeholder=\"Type Country Name Here...\"\n            onChangeText={updateSearch}\n            value={search || ''}\n          />\n          <DropDown\n            options={chartList}\n            onSelect={sortCountries}\n            label=\"Sort countries by\"\n          />\n          <Box>\n            {filteredCountries.length < 1 ? (\n              <Text style={[styles.title, styles.text]}>\n                No counteries were found.. try another search term\n              </Text>\n            ) : (\n              filteredCountries.map(\n                (\n                  {\n                    country,\n                    confirmed,\n                    deaths,\n                    recovered,\n                    population,\n                    precentage,\n                    active,\n                  },\n                  index,\n                ) => {\n                  return (\n                    <Link to={`country/${country}`} key={index}>\n                      <View style={styles.country}>\n                        <View>\n                          <Text style={[styles.title, styles.text]}>\n                            {country}\n                          </Text>\n                          <Text style={styles.text}>\n                            <L t=\"Cases:\" />{' '}\n                            <V t={numberWithCommas(confirmed)} />\n                          </Text>\n                          <Text style={styles.text}>\n                            <L t=\"Active: \" />\n                            <V t={numberWithCommas(active)} />\n                          </Text>\n                          <Text style={styles.text}>\n                            <L t=\"Deaths: \" />\n                            <V t={numberWithCommas(deaths)} />\n                          </Text>\n                          <Text style={styles.text}>\n                            <L t=\"Recovered: \" />\n                            <V t={numberWithCommas(recovered)} />\n                          </Text>\n\n                          {!!population && (\n                            <Text style={styles.text}>\n                              <L t=\"Population: \" />\n                              <V t={numberWithCommas(population)} />\n                            </Text>\n                          )}\n                          {!!precentage && (\n                            <Text style={styles.text}>\n                              <L t=\"Population infected: \" />\n                              <V t={precentage + '%'} />\n                            </Text>\n                          )}\n                        </View>\n                        <Text\n                          style={[\n                            {\n                              alignSelf: 'flex-end',\n                              color: '#fff',\n                              padding: 10,\n                              width: '100%',\n                              backgroundColor: '#00429d',\n                              lineHeight: 35,\n                              borderRadius: 3,\n                              textAlign: 'center',\n                              shadowColor: '#000',\n                              shadowOffset: {width: 0, height: 1},\n                              shadowOpacity: 0.8,\n                              shadowRadius: 2,\n                              elevation: 5,\n                            },\n                          ]}>\n                          See country stats\n                        </Text>\n                      </View>\n                    </Link>\n                  );\n                },\n              )\n            )}\n          </Box>\n        </>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    width: '100%',\n  },\n  title: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  text: {\n    color: '#fff',\n    marginBottom: 5,\n  },\n  country: {\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    width: '100%',\n    marginBottom: 10,\n    borderBottomColor: '#fff',\n    borderBottomStyle: 'solid',\n    borderBottomWidth: 1,\n    backgroundColor: 'darkcyan',\n    borderRadius: 3,\n    padding: 10,\n\n    shadowColor: '#000',\n    shadowOffset: {width: 0, height: 1},\n    shadowOpacity: 0.8,\n    shadowRadius: 2,\n    elevation: 5,\n  },\n});\n\nexport default subscribe(Home, state);\n","import React, {Component} from 'react';\nimport {View} from 'react-native';\nimport {renderToStaticMarkup} from 'react-dom/server';\nimport {divIcon} from 'leaflet';\nimport {Map, TileLayer, Marker, Popup} from 'react-leaflet';\n\nimport {subscribe} from 'jstates-react';\nimport state from './state';\nimport {numberWithCommas} from './utils';\n\nfunction averageGeolocation(coords) {\n  if (coords.length === 1) {\n    return coords[0];\n  }\n\n  let x = 0.0;\n  let y = 0.0;\n  let z = 0.0;\n\n  for (let coord of coords) {\n    let lat = (coord.lat * Math.PI) / 180;\n    let lon = (coord.lon * Math.PI) / 180;\n\n    x += Math.cos(lat) * Math.cos(lon);\n    y += Math.cos(lat) * Math.sin(lon);\n    z += Math.sin(lat);\n  }\n\n  let total = coords.length;\n\n  x = x / total;\n  y = y / total;\n  z = z / total;\n\n  let centrallon = Math.atan2(y, x);\n  let centralSquareRoot = Math.sqrt(x * x + y * y);\n  let centrallat = Math.atan2(z, centralSquareRoot);\n\n  return {\n    lat: (centrallat * 180) / Math.PI,\n    lon: (centrallon * 180) / Math.PI,\n  };\n}\n\nconst ZOOM_4 = 1058;\nconst ZOOM_5 = 1558;\n\nconst RED = '#f00c32';\nconst GREEN = '#08cf47';\nconst GREY = '#30242d';\nclass Mapx extends Component {\n  state = {\n    lat: 51.165690999999995,\n    lng: 10.451526,\n    zoom: 3,\n  };\n  mapRef = React.createRef();\n  handleZoom = () => {\n    const zoom = this.mapRef && this.mapRef.current.leafletElement.getZoom();\n    if (zoom) {\n      this.setState({zoom});\n    }\n  };\n  render() {\n    console.log(\n      '--¯_(ツ)_/¯-----------this.state.zoom----------',\n      this.state.zoom,\n    );\n    return (\n      <View\n        style={{\n          width: '100%',\n          position: 'relative',\n          marginBottom: 20,\n          marginTop: 20,\n        }}>\n        <Map\n          minZoom={1}\n          ref={this.mapRef}\n          onzoomend={this.handleZoom}\n          center={[this.state.lat, this.state.lng]}\n          zoom={this.state.zoom}\n          style={{width: '100%', position: 'relative', height: 400}}>\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n            url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\n          />\n          {!!this.props.countries &&\n            this.props.countries.map((data) => {\n              const {\n                country,\n                confirmed,\n                deaths,\n                recovered,\n                population,\n                locations,\n              } = data;\n              let cords;\n              if (locations.length > 1) {\n                cords = locations.find((i) => i.state === '');\n                if (!cords) {\n                  cords = averageGeolocation(locations);\n                }\n              } else {\n                cords = locations[0];\n              }\n              const point = [cords.lat, cords.lon];\n\n              let confirmedWidth = (\n                (confirmed / 100 / 2 / 10) *\n                (this.state.zoom * 2)\n              ).toFixed(2);\n\n              confirmedWidth = confirmedWidth > 40 ? confirmedWidth : 40;\n              let recoveredWidth = ((recovered / confirmed) * 100).toFixed(2);\n              let deathsWidth = ((deaths / confirmed) * 100).toFixed(2);\n\n              if (this.state.zoom < 5) {\n                confirmedWidth =\n                  confirmedWidth < ZOOM_4 ? confirmedWidth : ZOOM_4;\n              } else {\n                confirmedWidth =\n                  confirmedWidth < ZOOM_5 ? confirmedWidth : ZOOM_5;\n              }\n              //   recoveredWidth = recoveredWidth < 1000 ? recoveredWidth : 1000;\n              //   deathsWidth = deathsWidth < 900 ? deathsWidth : 900;\n              const outerCircle = {\n                backgroundColor: RED,\n                color: RED,\n                width: `${confirmedWidth}%`,\n                height: `${confirmedWidth}%`,\n                borderRadius: 100,\n                textAlign: 'center',\n                marginLeft: `-${confirmedWidth / 2}%`,\n                marginTop: `-${confirmedWidth / 2}%`,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                position: 'relative',\n              };\n              const recoveredCircle = {\n                zIndex: 600,\n                backgroundColor: GREEN,\n                color: GREEN,\n                width: `${recoveredWidth}%`,\n                height: `${recoveredWidth}%`,\n                borderRadius: 100,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto',\n              };\n              const deathCircle = {\n                zIndex: 601,\n                position: 'absolute',\n                backgroundColor: GREY,\n                color: GREY,\n                display: 'flex',\n                width: `${deathsWidth}%`,\n                height: `${deathsWidth}%`,\n                borderRadius: 100,\n                margin: '0 auto',\n              };\n              const iconMarkup = renderToStaticMarkup(\n                <div style={outerCircle}>\n                  <div style={recoveredCircle}></div>\n                  <div style={deathCircle}></div>\n                </div>,\n              );\n              const customMarkerIcon = divIcon({\n                html: iconMarkup,\n              });\n              return (\n                <Marker position={point} key={country} icon={customMarkerIcon}>\n                  <Popup>\n                    <span>\n                      <b>{country}</b>\n                    </span>\n                    <br />\n                    <span>\n                      <span\n                        style={{\n                          backgroundColor: RED,\n                          marginTop: -5,\n                          width: 5,\n                          height: 5,\n                          borderRadius: 100,\n                          display: 'inline-block',\n                        }}>\n                        {' '}\n                      </span>{' '}\n                      Cases: {numberWithCommas(confirmed)}\n                    </span>\n                    <br />\n                    <span>\n                      <span\n                        style={{\n                          backgroundColor: GREEN,\n                          marginTop: -5,\n                          width: 5,\n                          height: 5,\n                          borderRadius: 100,\n                          display: 'inline-block',\n                        }}>\n                        {' '}\n                      </span>\n                      Recovered: {numberWithCommas(recovered)}\n                    </span>\n                    <br />\n                    <span>\n                      <span\n                        style={{\n                          backgroundColor: GREY,\n                          marginTop: -5,\n                          width: 5,\n                          height: 5,\n                          borderRadius: 100,\n                          display: 'inline-block',\n                        }}>\n                        {' '}\n                      </span>\n                      Deaths: {numberWithCommas(deaths)}\n                    </span>\n                    <br />\n                    {population && (\n                      <span>Population: {numberWithCommas(population)}</span>\n                    )}\n                  </Popup>\n                </Marker>\n              );\n            })}\n        </Map>\n      </View>\n    );\n  }\n}\nexport default subscribe(Mapx, state, (state) => ({\n  countries: state.countries,\n}));\n","import React from 'react';\nimport {View} from 'react-native';\n\nconst DropDown = ({onSelect, label, options}) => {\n  return (\n    <View className=\"select\">\n      <label\n        style={{\n          color: '#fff',\n          alignSelf: 'center',\n          marginTop: 10,\n          marginBottom: 10,\n        }}>\n        {label}:\n      </label>\n      <select\n        onChange={(e) => {\n          onSelect(e.currentTarget.value);\n        }}>\n        {Object.keys(options).map((i) => {\n          return (\n            <option key={`dropdownItem_${i}`} value={i}>\n              {i}\n            </option>\n          );\n        })}\n      </select>\n    </View>\n  );\n};\nexport default DropDown;\n","const moment = require('moment');\nconst request = require('request');\nconst csv = require('csvtojson');\n// const objectToFile = require('object-to-file');\nexport const d = {};\n// var objectToFiledb = new objectToFile.default('testing-runkit');\n// const db = {\n//   fetch: async (key) => {\n//     const r = localStorage.getItem(key);\n//     // const r = await objectToFiledb.read(key);\n//     return !r ? undefined : r;\n//   },\n//   set: async (key, data) => {\n//     // const r = await objectToFiledb.push(key, data);\n//     const r = localStorage.setItem(key, JSON.stringify(data));\n//     return !r ? undefined : r;\n//   },\n//   delete: async (key) => {\n//     const r = localStorage.removeItem(key);\n//     // const r = await objectToFiledb.delete(key);\n//     return !r ? undefined : r;\n//   },\n// };\n\nclass Covid19 {\n  async getData(date) {\n    let data = {};\n    if (date != undefined) {\n      date = moment(date, 'MM-DD-YYYY').format('MM-DD-YYYY');\n      data = await this.fetchData(date);\n    } else {\n      date = moment().format('MM-DD-YYYY');\n      data = await this.fetchData(date);\n    }\n    return data;\n  }\n\n  async getTimeSeriesData(type) {\n    var data = {};\n    let date = moment().format('MM-DD-YYYY');\n    type = type.toLowerCase();\n    data = d[type];\n    if (data === undefined || (data && data.lastUpdated !== date)) {\n      await this.addRemoteTimesSeries(type);\n      data = d[type];\n    }\n    return data;\n  }\n\n  async fetchData(date) {\n    var data = {};\n    //console.log(`Fetching data from: ${date}`)\n    data = d[date];\n    while (\n      data === undefined &&\n      moment(date, 'MM-DD-YYYY') >= moment('01-22-2020', 'MM-DD-YYYY')\n    ) {\n      //console.log(`LOCAL data from ${date} not found...attempting to fetch REMOTE data from ${date}`)\n      await this.addRemoteDailyReports(date);\n      data = d[date];\n      if (data == undefined) {\n        //console.log(`REMOTE data from ${date} not found...attempting to fetch LOCAL data from one day before.`)\n        date = moment(date, 'MM-DD-YYYY')\n          .subtract(1, 'days')\n          .format('MM-DD-YYYY');\n        data = d[date];\n        if (data === undefined) {\n          //console.log(`LOCAL data from ${date} not found...attempting to fetch REMOTE data from one day before.`)\n          await this.addRemoteDailyReports(date);\n          data = d[date];\n        }\n      }\n    }\n    if (data === undefined) {\n      data = {error: 'Data not found. Plase try again.'};\n    }\n    return data;\n  }\n\n  async addRemoteDailyReports(date) {\n    let locations = [];\n    await csv()\n      .fromStream(\n        request.get(\n          `https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/${date}.csv`,\n        ),\n      )\n      .subscribe(async (json) => {\n        return new Promise((resolve, reject) => {\n          var obj = {};\n          if (\n            moment(date, 'MM-DD-YYYY') <= moment('03-22-2020', 'MM-DD-YYYY')\n          ) {\n            obj = {\n              country: json['Country/Region'] || '',\n              state: json['Province/State'] || '',\n              lat: json['Latitude'] || '0.0',\n              lon: json['Longitude'] || '0.0',\n              lastUpdate: json['Last Update'] || '',\n              confirmed: parseInt(json['Confirmed']) || 0,\n              deaths: parseInt(json['Deaths']) || 0,\n              recovered: parseInt(json['Recovered']) || 0,\n            };\n          } else {\n            // console.log('after 03-22-2020');\n            obj = {\n              country: json['Country_Region'] || '',\n              state: json['Province_State'] || '',\n              lat: json['Lat'] || '0.0',\n              lon: json['Long_'] || '0.0',\n              lastUpdate: json['Last_Update'] || '',\n              confirmed: parseInt(json['Confirmed']) || 0,\n              deaths: parseInt(json['Deaths']) || 0,\n              recovered: parseInt(json['Recovered']) || 0,\n            };\n          }\n          locations.push(obj);\n          resolve();\n        });\n      })\n      .then(async (json) => {\n        if (locations.length > 0) {\n          let countries = await this.groupBy('country', locations, date);\n          delete d[date];\n          d[date] = countries;\n        }\n      });\n  }\n\n  async groupBy(key, array, date) {\n    var json = {};\n    var result = [];\n    var totalConfirmed = 0;\n    var totalRecovered = 0;\n    var totalDeaths = 0;\n\n    var allConfirmed = 0;\n    var allRecovered = 0;\n    var allDeaths = 0;\n\n    json.countries = result;\n\n    for (var i = 0; i < array.length; i++) {\n      var added = false;\n      totalConfirmed = 0;\n      totalRecovered = 0;\n      totalDeaths = 0;\n\n      allConfirmed += parseInt(array[i].confirmed);\n      allRecovered += parseInt(array[i].recovered);\n      allDeaths += parseInt(array[i].deaths);\n\n      // adds the reset of the locations for the country\n      for (var j = 0; j < result.length; j++) {\n        if (result[j][key] == array[i][key]) {\n          totalConfirmed += parseInt(array[i].confirmed);\n          result[j].confirmed = totalConfirmed + parseInt(result[j].confirmed);\n\n          totalRecovered += parseInt(array[i].recovered);\n          result[j].recovered = totalRecovered + parseInt(result[j].recovered);\n\n          totalDeaths += parseInt(array[i].deaths);\n          result[j].deaths = totalDeaths + parseInt(result[j].deaths);\n\n          result[j].locations.push(array[i]);\n          added = true;\n          break;\n        }\n      }\n      // adds the first location for the country\n      if (!added) {\n        totalConfirmed = 0;\n        totalRecovered = 0;\n        totalDeaths = 0;\n        var entry = {locations: []};\n\n        totalConfirmed += parseInt(array[i].confirmed);\n        entry['confirmed'] = totalConfirmed;\n\n        totalRecovered += parseInt(array[i].recovered);\n        entry['recovered'] = totalRecovered;\n\n        totalDeaths += parseInt(array[i].deaths);\n        entry['deaths'] = totalDeaths;\n\n        entry[key] = array[i][key];\n        entry['lat'] = array[i]['lat'];\n        entry['lon'] = array[i]['lon'];\n\n        entry.locations.push(array[i]);\n        result.push(entry);\n      }\n    }\n\n    json.date = date;\n    json.confirmed = allConfirmed;\n    json.recovered = allRecovered;\n    json.deaths = allDeaths;\n\n    return json;\n  }\n\n  async addRemoteTimesSeries(type) {\n    var countries = [];\n    let min = moment('2020-03-11');\n    let max = moment();\n    //let initCapType = type.charAt(0).toUpperCase() + type.slice(1)\n    await csv()\n      .fromStream(\n        request.get(\n          `https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_${type}_global.csv`,\n        ),\n      )\n      .subscribe(async (json) => {\n        return new Promise((resolve, reject) => {\n          var location = {\n            country: json['Country/Region'] || '',\n            state: json['Province/State'] || '',\n            lat: json['Lat'] || '0.0',\n            lon: json['Long'] || '0.0',\n          };\n          let dates = [];\n          for (\n            var m = moment(min);\n            m.diff(max, 'days') <= 0;\n            m.add(1, 'days')\n          ) {\n            let date = m.format('M/D/YY');\n            if (json[date] != undefined) {\n              let value = parseInt(json[date]) || 0;\n              let dateObj = {\n                [m.format('MM-DD-YYYY')]: value,\n              };\n              dates.push(dateObj);\n            }\n          }\n\n          if (dates.length > 0) {\n            let lastDate = dates[dates.length - 1];\n            location.total = Object.values(lastDate)[0];\n          }\n\n          location.dates = dates;\n          countries.push(location);\n          resolve();\n        });\n      })\n      .then(async (json) => {\n        if (countries.length > 0) {\n          countries = await this.groupByTimesSeries('country', countries);\n\n          delete d[type];\n          d[type] = countries;\n        }\n      });\n  }\n\n  async groupByTimesSeries(key, array) {\n    let root = {};\n    var locations = [];\n    var grandTotal = 0;\n\n    root.countries = locations;\n\n    for (var i = 0; i < array.length; i++) {\n      var total = 0;\n      var added = false;\n      // adds the reset of the locations for the country\n      for (var j = 0; j < locations.length; j++) {\n        if (locations[j][key] == array[i][key]) {\n          total += parseInt(array[i].total) || 0;\n          locations[j].locations.push(array[i]);\n          added = true;\n          break;\n        }\n      }\n      // adds the first location for the country\n      if (!added) {\n        var entry = {locations: []};\n        entry[key] = array[i][key];\n        entry['lat'] = array[i]['lat'];\n        entry['lon'] = array[i]['lon'];\n        total += parseInt(array[i]['total']) || 0;\n        entry.locations.push(array[i]);\n        locations.push(entry);\n      }\n\n      locations[j].total = total;\n      grandTotal += total;\n    }\n\n    root.lastUpdated = moment().format('MM-DD-YYYY');\n    root.total = grandTotal;\n    return root;\n  }\n}\n\nmodule.exports = Covid19;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport {Text, View} from 'react-native';\n\nexport const chartList = {\n  Cases: 'cases',\n  'Active cases': 'active',\n  Recovered: 'recovered',\n  Deaths: 'deaths',\n  'Population infected': 'precentage',\n};\n\nexport const generateBarData = (countries, sort = 'confirmed') => {\n  const top10 = countries.sort((a, b) => b[sort] - a[sort]).slice(0, 9);\n\n  const labels = top10.map((i) => i.country);\n  const data = top10.map((i) => i[sort]);\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Cases per country',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data,\n      },\n    ],\n  };\n\n  return chartData;\n};\n\nexport const format = (i) => (i < 10 ? `0${i}` : i);\nexport const colors = [\n  '#ff0029',\n  '#377eb8',\n  '#7f80cd',\n  '#66a61e',\n  '#984ea3',\n  '#00d2d5',\n  '#ff7f00',\n  '#af8d00',\n  '#b3e900',\n  '#fec254',\n  '#ccebc5',\n  '#a63603',\n  '#016c59',\n  '#e7298a',\n  '#c994c7',\n  '#dfdf00',\n  '#df00df',\n  '#80ff80',\n];\n\nexport const Box = ({children, style}) => (\n  <View\n    style={[\n      {\n        margin: 10,\n        padding: 10,\n        width: '80%',\n      },\n      style,\n    ]}>\n    {children}\n  </View>\n);\n\nexport const L = ({t}) => (\n  <Text\n    style={{\n      color: '#ddd',\n    }}>\n    {t}\n  </Text>\n);\nexport const V = ({t}) => (\n  <Text\n    style={{\n      color: '#fff',\n    }}>\n    {t}\n  </Text>\n);\n\nexport function numberWithCommas(x, shouldRound) {\n  const s = x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  if (shouldRound && x > 999) {\n    let decimal = '';\n    if (x < 2000 && s.length > 4 && s.slice(-3) !== '000') {\n      decimal = `.${s.slice(-3)[0]}`;\n    }\n\n    return `${s.slice(0, s.length - 4)}${decimal}K`;\n  }\n  return s;\n}\n","import {createState} from 'jstates-react';\n\nconst state = createState({\n  lastUpdated: null,\n  search: '',\n});\n\nexport default state;\n"],"sourceRoot":""}